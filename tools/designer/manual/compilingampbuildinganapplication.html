<HTML
><HEAD
><TITLE
>Compiling and Building an Application </TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.57"><LINK
REL="HOME"
HREF="book1.html"><LINK
REL="UP"
TITLE="Creating a Qt Application"
HREF="c87.html"><LINK
REL="PREVIOUS"
TITLE="Connecting Signals and Slots "
HREF="connectingupanapplication.html"><LINK
REL="NEXT"
TITLE="Creating Main Windows with Actions, Toolbars and Menus"
HREF="main-windows.html"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="connectingupanapplication.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 1. Creating a Qt Application</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="main-windows.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="COMPILINGAMPBUILDINGANAPPLICATION"
>Compiling and Building an Application</A
></H1
><P
>&#13;






So far we have written about 99% of a Qt application entirely
in <I
CLASS="EMPHASIS"
>Qt Designer</I
>. To make the application compile and run we must create a

<TT
CLASS="FILENAME"
>main.cpp</TT
> file from which we can call our form.
We'll then need to update the project file accordingly and generate a
Makefile. We can use the Makefile to generate the application. We will
cover these matters briefly here, and in more detail in <A
HREF="c2744.html#SUBCLASSING"
>the section called <I
>Subclassing</I
> in Chapter 4</A
> "Subclassing".</P
><P
>First we need to create a 
<TT
CLASS="FILENAME"
>main.cpp</TT
> file.
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>#include &lt;qapplication.h&gt;
#include &quot;multiclip.h&quot;
int main( int argc, char *argv[] ) 
{
    <I
CLASS="EMPHASIS"
>QApplication</I
> app( argc, argv );

    MulticlipForm clippingForm;
    app.setMainWidget( &amp;clippingForm );
    clippingForm.show();

    return app.exec();
}</PRE
></TD
></TR
></TABLE
>
The program creates a 
<TT
CLASS="CLASSNAME"
>QApplication</TT
> object and an
instance of our MulticlipForm, sets the form to be the main widget and
shows the form. The <TT
CLASS="FUNCTION"
>app.exec()</TT
> call starts off the
event loop.</P
><P
>&#13;
We need to add 
<TT
CLASS="FILENAME"
>main.cpp</TT
> to the

<TT
CLASS="FILENAME"
>.pro</TT
> file. Open 
<TT
CLASS="FILENAME"
>multiclip.pro</TT
>
in a plain text editor (such as notepad, vim, xemacs, etc.). It will look
similar to this:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>TEMPLATE    = app
CONFIG     += qt warn_on release
TARGET      = multiclip
INTERFACES  = multiclip.ui
IMAGEFILE   = images.cpp
PROJECTNAME = multiclip
LANGUAGE    = C++
SOURCES    += images.cpp</PRE
></TD
></TR
></TABLE
>
Add a new line at the end of the file: 
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>SOURCES += main.cpp</PRE
></TD
></TR
></TABLE
>
Save the updated project file. Now start up a console (or xterm), change
directory to the multiclip application and run 
<B
CLASS="COMMAND"
>qmake</B
>. A Makefile
compatible with your system will be generated:
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>qmake -o Makefile multiclip.pro</PRE
></TD
></TR
></TABLE
>
You can now make the application, e.g. by running 
<B
CLASS="COMMAND"
>make</B
> or

<B
CLASS="COMMAND"
>nmake</B
>. Try compililng and running multiclip. There are many
improvement you could make and experimenting with both the layout and
the code will help you learn more about Qt and <I
CLASS="EMPHASIS"
>Qt Designer</I
>.</P
><P
>This chapter has introduced you to creating cross-platform applications
with <I
CLASS="EMPHASIS"
>Qt Designer</I
>. We've created a form, populated it with widgets and laid the
widgets out neatly and scalably. We've used Qt's signals and slots
mechanism to make the application functional and generated the Makefile.
These techniques for adding widgets to a form and laying them out with
the layout tools; and for creating, coding and connecting slots will be
used time and again as you create applications with <I
CLASS="EMPHASIS"
>Qt Designer</I
>. The following
chapters will present further examples and explore more techniques for
using <I
CLASS="EMPHASIS"
>Qt Designer</I
>.</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="connectingupanapplication.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="main-windows.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Connecting Signals and Slots</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c87.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Creating Main Windows with Actions, Toolbars and Menus</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>