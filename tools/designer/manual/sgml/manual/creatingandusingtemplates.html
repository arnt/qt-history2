<HTML
><HEAD
><TITLE
>Creating and Using Templates </TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.57"><LINK
REL="HOME"
HREF="book1.html"><LINK
REL="UP"
TITLE="Customizing and Integrating Qt Designer"
HREF="c2265.html"><LINK
REL="PREVIOUS"
TITLE="Customizing and Integrating Qt Designer"
HREF="c2265.html"><LINK
REL="NEXT"
TITLE="Integrating Qt Designer with Visual Studio "
HREF="integratingqtdesignerwithothertools.html"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="c2265.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 7. Customizing and Integrating Qt Designer</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="integratingqtdesignerwithothertools.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="CREATINGANDUSINGTEMPLATES"
>Creating and Using Templates</A
></H1
><P
><I
CLASS="EMPHASIS"
>Qt Designer</I
> supports two approaches to creating template forms. The simplest
approach involves little more than saving a <TT
CLASS="FILENAME"
>.ui</TT
>
file into the templates directory. The second approach involves creating
a container widget class to be used as a base class for forms that use
the template. We will explain both techniques.</P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="SIMPLETEMPLATES"
>Simple Templates</A
></H2
><P
>These templates are most useful when you want to create a whole set of
forms which all have some common widgets. For example, you might have a
project that will require many forms, all of which need to be branded
with a company name and logo.</P
><P
>First we'll create the simple template.
<P
></P
><OL
TYPE="1"
><LI
><P
>Click <SPAN
CLASS="GUIMENUITEM"
>File|New</SPAN
> to invoke the New Form dialog.
Click the Dialog template then click <SPAN
CLASS="GUIBUTTON"
>OK</SPAN
>.</P
></LI
><LI
><P
>Click the <SPAN
CLASS="GUIBUTTON"
>Text Label</SPAN
> toolbar button, then click
near the top left of the form. Change the font Point Size property to 16
and change the text property to your or your company's name. Click the
<SPAN
CLASS="GUIBUTTON"
>Line</SPAN
> toolbar button, then click the form below
the label; click Horizontal on the pop-up menu.</P
></LI
><LI
><P
>Select the label and the line. (Ctrl+Click the form, then drag the
rubber band so that it touches or includes the line and the label.)
Press <B
CLASS="KEYCAP"
>Ctrl+L</B
> to lay them out vertically.</P
></LI
><LI
><P
>Click the <SPAN
CLASS="GUIBUTTON"
>Save</SPAN
> toolbar button. In the Save As
dialog, navigate to <I
CLASS="EMPHASIS"
>Qt Designer</I
>'s templates directory,
(<TT
CLASS="FILENAME"
>qt/tools/designer/templates</TT
> relative to wherever
Qt is installed). Type in the name 'Simple_Dialog.ui' and click
<SPAN
CLASS="GUIBUTTON"
>Save</SPAN
>. </P
></LI
><LI
><P
>Right click the form in the Forms list, then click Remove form from
project.</P
></LI
></OL
></P
><P
>Now that we have the simple template we are ready to use it. Click
<SPAN
CLASS="GUIMENUITEM"
>File|New</SPAN
> to invoke the New Form dialog. One
of the templates that will appear is 'Simple Dialog'. Click the simple
dialog, then click <SPAN
CLASS="GUIBUTTON"
>OK</SPAN
>. A new form will appear with the same widgets and
layout as the template. Add any other widgets and functionality. When
you attempt to save the form you will be prompted for a new form name. </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="BASECLASSTEMPLATES"
>Base-class Templates</A
></H2
><P
>These templates are useful when you want to provide some default
functionality that all the forms based on the base class can inherit.
In our example we'll use a class called
<TT
CLASS="CLASSNAME"
>SizeAware</TT
> that remembers and restores its size as
the basis of a template.
We won't describe the class itself, but will focus instead on making use
of it as a <I
CLASS="EMPHASIS"
>Qt Designer</I
> template. The source for the class is in
<TT
CLASS="FILENAME"
>qt/tools/designer/eg/sizeaware</TT
>.</P
><P
>The template can either be based on a custom widget or on any existing
container widget.</P
><P
>If you want to base the template on a custom widget you must first add
it to <I
CLASS="EMPHASIS"
>Qt Designer</I
>'s custom widgets.
Click <SPAN
CLASS="GUIMENUITEM"
>Tools|Custom|Edit Custom Widgets</SPAN
> to
invoke the Edit Custom Widgets dialog. (This dialog is explained in more
detail in <A
HREF="creating-custom-widgets-with-plugins.html#OLD-CUSTOM-WIDGETS"
>the section called <I
>Simple Custom Widgets</I
> in Chapter 5</A
> "Simple Custom Widgets".)
Click <SPAN
CLASS="GUIBUTTON"
>New Widget</SPAN
>. Change the Class from
'MyCustomWidget' to 'SizeAware'. Click the Headerfile ellipsis button
and select the file 
<TT
CLASS="FILENAME"
>qt/tools/designer/eg/sizeaware/sizeaware.h</TT
>. Check
the Container Widget checkbox. This
class provides two properties. Click the Properties tab. Click
<SPAN
CLASS="GUIBUTTON"
>New Property</SPAN
> and change the property name to
'company'. Click the <SPAN
CLASS="GUIBUTTON"
>New Property</SPAN
> again and change
the property name to 'settingsFile'. Click <SPAN
CLASS="GUIBUTTON"
>Close</SPAN
>.</P
><P
>To create a template, based on an existing widget or on your own custom
widget, click <SPAN
CLASS="GUIMENUITEM"
>File|Create Template</SPAN
> to invoke
the Create Template dialog. Change the Template Name to 'SizeAware' and
click the SizeAware base class, then click
<SPAN
CLASS="GUIBUTTON"
>Create</SPAN
>. The dialog will create the template and
close itself immediately. Close <I
CLASS="EMPHASIS"
>Qt Designer</I
> and restart it.</P
><P
>A new template, 'SizeAware' is now available from the list of templates.
Click <SPAN
CLASS="GUIMENUITEM"
>File|New</SPAN
>, click SizeAware and click
<SPAN
CLASS="GUIBUTTON"
>OK</SPAN
>. Note that the two properties, company and settingsFile, are
available in the Properties window. Any forms based on this template
will remember their size and resize when reloaded. (In practical
applications having one settingsFile per form is not recommended, so
this template would only really be useful for applications that have a
single main window.)</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="c2265.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="integratingqtdesignerwithothertools.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Customizing and Integrating Qt Designer</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c2265.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Integrating Qt Designer with Visual Studio</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>