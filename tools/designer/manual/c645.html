<HTML
><HEAD
><TITLE
>Useful Techniques</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.52"><LINK
REL="HOME"
HREF="book1.html"><LINK
REL="UP"
TITLE="Qt Designer Tutorial and Users Manual"
HREF="p21.html"><LINK
REL="PREVIOUS"
TITLE="Popular Mechanics: Working With Spacers"
HREF="x608.html"><LINK
REL="NEXT"
TITLE="Changing The Tab Order"
HREF="x701.html"></HEAD
><BODY
CLASS="CHAPTER"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x608.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x701.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="AEN645"
>Chapter 5. Useful Techniques</A
></H1
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
><A
HREF="c645.html#AEN648"
>Working With Signals And Slots</A
></DT
><DT
><A
HREF="x701.html"
>Changing The Tab Order</A
></DT
><DT
><A
HREF="qt-designer-sec-layoutmanagement.html"
>All About Layout Management</A
></DT
><DT
><A
HREF="x778.html"
>Integrating Qt GUI Designer Files Into Your Project</A
></DT
><DT
><A
HREF="x851.html"
>Accessing The Help System</A
></DT
><DT
><A
HREF="x869.html"
>Custom Widgets</A
></DT
></DL
></DIV
><P
>After having showcased Qt GUI Designer in the previous
tutorial-style chapters, we will go a bit deeper in the following
sections and explain a number of useful techniques in more
depth. Things that have been left out in the tutorial for pedagogical
reasons will be covered here, as well as some interesting topics we
haven't touched upon yet.</P
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN648"
>Working With Signals And Slots</A
></H1
><P
>As you know, the concept of signals and slots is
one of the central ideas in Qt. It is therefore not very astonishing
that Qt GUI Designer provides two means to facilitate the use of
signals and slots in Qt dialogs: The <I
CLASS="EMPHASIS"
>Slots</I
> tool
and the <I
CLASS="EMPHASIS"
>Connection</I
> tool.</P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN653"
>The Connection Tool</A
></H2
><P
>The Connection Tool lets you view and edit already
existing connections between components. It shows in a tabular display
for each connection the sender by name, the emitted signal, the
receiver by name and the slot to which the signal is connected (see
<A
HREF="c645.html#QT-DESIGNER-FIG-CONNECTIONSTOOL"
>Figure 5-1</A
>). If you want to make
an additional connection between a sending and a receiving object, you
can click on the <SPAN
CLASS="GUILABEL"
>Edit</SPAN
> button. A new window pops
up that shows the signals of the sending and the slots of the
receiving widget, as well as a list of already existing
connections. Simply by clicking on a slot you can add a new connection
between these two components. By marking a connection, the
<SPAN
CLASS="GUILABEL"
>Disconnect</SPAN
> button becomes available and lets you
remove a connection again. From here, you even have access to the
<I
CLASS="EMPHASIS"
>Slot</I
> tool for creating your own slots that we
will cover in the next section.</P
><DIV
CLASS="FIGURE"
><A
NAME="QT-DESIGNER-FIG-CONNECTIONSTOOL"
></A
><P
><B
>Figure 5-1. The Connection Tool</B
></P
><P
><IMG
SRC="figures/connecttool.png"></P
></DIV
><P
>Note that the <I
CLASS="EMPHASIS"
>Connection</I
> tool
does not distinguish between predefined Qt slots and slots that you
have defined yourself. By simply creating your own slots, you can
easily augment the connection possibilities.</P
><P
>As useful as the <I
CLASS="EMPHASIS"
>Connection</I
> tool
is, it only lets you delete connections or add connections between
those components between which there are already existing
connections.  You cannot add new component pairs here. This is
exclusively done graphically in the form editor. It should be added
that it is not possible to create a new connection with the keyboard
only; you always need to use the mouse-technique described
here.</P
><P
>You have already seen how to connect two widgets in
the form editor: Simply hit the <B
CLASS="KEYCAP"
>F3</B
> key or click on the connection
icon. The mouse cursor will change into a cross. Click on the widget
that should be the sender in your new connection and see how a pink
rectangle is drawn around it. Now move the mouse cursor across your
form and watch how a second pink rectangle surrounds your current
target object, i.e., the object that is on the receiving side of the
connection. Once you release the mouse button, the
<I
CLASS="EMPHASIS"
>Connection</I
> tool window that you know already will
open.</P
><P
>In case you hit <B
CLASS="KEYCAP"
>F3</B
> by accident, it is
good to know how to leave this distressing mode where everything gets
suddenly pink. If you have not started dragging the mouse, i.e., you
have not even clicked on the sending component, you can simply hit the
<B
CLASS="KEYCAP"
>Esc</B
> key to get out of this mode. This even works if
you already dragging, but have not yet released the mouse button, but
depending on your mouse and keyboard, it might be difficult to operate
the mouse and hit a keyboard button at the same time. In this case,
either click on the pointer tool icon or just release the mouse
anywhere and click <SPAN
CLASS="GUILABEL"
>Cancel</SPAN
>
in the dialog that pops up &#8212; no connection whatsoever will be
made then.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN675"
>The Slot Tool</A
></H2
><P
>In simpler dialogs, just using the predefined slots is
probably enough. But in more sophisticated dialogs, you will most
likely want to define your own slots. This is of course possible; you
do it with the <I
CLASS="EMPHASIS"
>Slots</I
> tool. You reach the
<I
CLASS="EMPHASIS"
>Slots</I
> tool by selecting
<SPAN
CLASS="GUIMENU"
>Edit/Slots</SPAN
> from the menu. A dialog window will pop
up that shows all slots of the form you are currently editing. If you
have not added any of your own yet, this will of course only be Qt's
predefined slots. Each slot is listed with its name and parameters,
its access specifier and whether it is "in use", meaning
whether it has a signal connected to it. Note that it is not necessary
for each slot to be in use: A slot could be defined for outside use,
for connections being made from other forms or other parts of the
application your are writing. These connections would then not be made
within Qt GUI Designer, but rather in hand-written code.</P
><P
>The access specifier might need some explanation. As
you probably know, a public C++ method can be called from within any other
class, but a protected method can only be called from within the same class
or from within classes that inherit from it. A private method finally can
only be called from within the same class. The same applies to slots
because at the end of the day, slots are just C++ methods.</P
><P
>When should a slot be public, when should it be
protected? Here, the same criteria apply as for ordinary methods that
are not slots: If the slot will be connected to from outside of the
class, it must be public, otherwise, it should be protected, following
the rule to expose as little of the functionality of a class as
possible to the outside.</P
><P
>If you look at the <SPAN
CLASS="GUILABEL"
>Slot
Properties</SPAN
> group box where you can change the properties of
the currently marked slot and more specifically at the combo box where
you can select the access specifier, you might notice that it is not
possible to make a slot private. Why is that? Well, as you have
learned in the tutorial already, in order to implement your own
functionality, you need to subclass from the created form class and
implement the functionality (whether it is in a slot or elsewhere)
there. But since we now have a hierarchy of classes, the slot cannot
be made private any longer which would mean that it would be confined
to one class. It would simply not be useful in the Qt GUI Designer context
any longer.<A
NAME="AEN685"
HREF="#FTN.AEN685"
>[1]</A
></P
><P
>OK, so now you know how you can change the name and
access specifier of a slot: Click on the slot in the slot list and
change the name and parameters and/or the access specifier in the
<SPAN
CLASS="GUILABEL"
>Slot Properties</SPAN
> group box. It is probably obvious
that you can remove a slot by marking it and clicking the
<SPAN
CLASS="GUILABEL"
>Delete Slot</SPAN
> button. Thus, the only thing left to
explain is how to create new slots. To do this, click on the
<SPAN
CLASS="GUILABEL"
>New Slot</SPAN
> button. A new slot will be added to the
slot list that has the name <TT
CLASS="LITERAL"
>new_slot()</TT
>, no
parameters, and public access. It is marked as the current slot, so
you can edit its properties right away. Think whether you want to
connect to this slot from the outside (in which case it should have
public access) or not (in which case it should have protected
access). Change the name to something more descriptive (many
developers like to start the names of their slots with
<TT
CLASS="LITERAL"
>slot</TT
> to make it more obvious that it is a
slot). Finally, if your slot should have parameters, add these between
the parentheses after the slot name. For example, if the slot should
have two integer parameters and be called
<TT
CLASS="LITERAL"
>slotMovePosition()</TT
>, you would fill the following
into the edit field:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>slotMovePosition(int,int)</PRE
></TD
></TR
></TABLE
><P
>Note that you do not have to (and should not) specify
the return type; slots always have <TT
CLASS="LITERAL"
>void</TT
> as their
return type which is added by Qt GUI Designer automatically.</P
><P
>All changes that you make are directly taken over to
the slot list, so you do not need to "save" your changes
anywhere. Just click the <SPAN
CLASS="GUILABEL"
>OK</SPAN
> button when you are
done. On the other hand, closing the dialog with the
<SPAN
CLASS="GUILABEL"
>Cancel</SPAN
> button or the <B
CLASS="KEYCAP"
>Esc</B
> key
will remove your changes.</P
></DIV
></DIV
></DIV
><H3
CLASS="FOOTNOTES"
>Notes</H3
><TABLE
BORDER="0"
CLASS="FOOTNOTES"
WIDTH="100%"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN685"
HREF="c645.html#AEN685"
>[1]</A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>Please note that it is perfectly OK to make slots
private in classes that are not created with the designer. This is a
very common design pattern in hand-crafted forms, where private slots
implement dialog-internal changes, like disabling or enabling some
widgets when the state of another widget
changes.</P
></TD
></TR
></TABLE
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x608.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x701.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Popular Mechanics: Working With Spacers</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="p21.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Changing The Tab Order</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>