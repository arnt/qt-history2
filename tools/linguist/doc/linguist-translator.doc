/**********************************************************************
**   Copyright (C) 2000 Trolltech AS.  All rights reserved.
**
**   qt-translations-tools.doc
**
**   This file is part of Qt Linguist.
**
**   See the file LICENSE included in the distribution for the usage
**   and distribution terms.
**
**   The file is provided AS IS with NO WARRANTY OF ANY KIND,
**   INCLUDING THE WARRANTY OF DESIGN, MERCHANTABILITY AND FITNESS FOR
**   A PARTICULAR PURPOSE.
**
**********************************************************************/

/*! \page linguist-translator.html
\title Chapter 2: Translators
<a name="Chapter_2_Translators"></a>

<center><img src="../images/linguist.png" alt="Linguist Main Window">
<h5>Linguist Main Window</h5></center>

<h2><a name="The_1_Minute_Guide_to_Using_Qt_Linguist">
The One Minute Guide to Using Qt Linguist</a></h2>

\e {Qt Linguist} is a tool for adding translations to Qt
applications. It introduces the concept of a translation "context" which
means a group of phrases that appear together on the screen e.g. in the
same menu or dialog.

To start, run \e {Qt Linguist}, either from the taskbar menu, or by
double clicking the desktop icon, or type <code>linguist[ENTER]</code>
at the command line. Once \e {Qt Linguist} has started choose
<em>File|Open</em> from the menu bar and select a \c .ts translation
source file to work on.

\e {Qt Linguist}'s main window is divided into four main areas.
The left hand side contains the Context list, the top right is the
Source text area, the middle right is the translation area and the
bottom right is the phrases and guesses area. We'll describe them in
detail later.

Click on one of the contexts in the context list (left hand side) and
then click on one of the phrases that appears in the Source text area
(top right). The phrase will be copied into the translation area (middle
right). Click under the word 'Translation' and type in the translation.
Click <em>Ctrl+N</em> (Done & Next) to confirm that you have completed the
translation and to move on to the next phrase that requires translation.
The cycle of entering a translation then pressing <em>Ctrl+N</em> can be repeated
until all the translations are done or until you finish the session. At
the end of the session choose <em>File|Save</em> from the menu bar and
then <em>File|Exit</em> to quit.

<h2><a name="Qt_Linguists_Main_Window">
\e {Qt Linguist}'s Main Window</a></h2>

<h3><a name="Context_List">Context List</a></h3>

This appears at the left hand side of the main window by default. The
first column, 'Done', identifies whether or not the translations for the
context have been done. A tick indicates that all the translations have
been done and are valid. A question mark indicates that one or more
translations have not been done or have failed validation. The second
column, 'Context' is the name of the context in which the translation
phrases appear. The third column, 'Items' shows two numbers, the first
is the number of translations that have been done, and the second is the
number of phrases that are in the context; if the numbers are equal then
all the translations have been done. Note that a greyed out tick
indicates an obsolete translation, i.e. a phrase that was translated in
a previous version of the application but which does not occur in the
new version.

The contexts are ordered alphabetically. The phrases within each context
are in the order in which they appear in the source program and this may
not be the order in which they are shown on screen.

The Context List is a dockable window so it can be dragged to another
position in the main window, or dragged out of the main window to be a
window in its own right. If you move the Context List <em>Qt
Linguist</em> will remember its position and restore it whenever you
start the program.

<h3><a name="Source_Text_Area">Source Text Area</a></h3>

This appears at the top right of the main window by default. The first
column, 'Done', signifies the status of the translation. A tick
indicates that the phrase has been translated and passed validation. A
question mark indicates that the translation has not been done. An
exclamation mark indicates that the translation has failed validation.
The second column 'Source text' shows the text that must be translated.
The third column shows the translation.

The Source Text Area is a dockable window.

<h3><a name="Translation_Area">Translation Area</a></h3>

This area appears at the middle right of the main window by default. It
is comprised of three vertical sections. The first section is labelled
'Source text' below which the source text appears. The second section
contains contextual information on a light blue background that the
programmer has added to assist the translator. If no contextual
information has been given this section does not appear. The third
section is labelled 'Translation' and this is where you enter the
translation of the source text.

<h3><a name="Phrases_and_Guesses_Area">Phrases and Guesses Area</a></h3>

This area appears at the bottom right of the main window by default.
When you move to a new phrase if the phrase is in one of the phrase
books that has been loaded the phrase will appear in this area with its
translation. If the phrase is the same or similar to another phrase that
has already been translated the phrase and translation will be shown in
this area. To copy a translation from the phrases and guesses area press
<em>F6</em> to move to the phrases and guesses area, use the up and down arrow
keys to move to the phrase you want to use and press Return to copy it.
If you decide that you don't want to copy a phrase after all, press Esc.
In both cases the focus will return to the Translation area.
Alternatively, double click the translation you want to use and it will
be copied into the translation area.

The Phrases and Guesses Area is a dockable window.

<h2><a name="Common_Tasks">Common Tasks</a></h2>

<h3><a name="Leaving_a_Translation_for_Later">
Leaving a Translation for Later</a></h3>

If you wish to leave a translation press <em>Ctrl+L</em> (Next Unfinished) to
move to the next unfinished translation. An unfinished translation is
one that either has not been translated at all or one which fails
validation. To move to the next phrase press <em>Shift+Ctrl+L</em>. You can also
navigate using the Translation menu. If you want to go to a different
context entirely, click the context you want to work on in the Context
list, then click the source text in the Source Text area.

<h3><a name="Phrases_That_Require_Multiple_Translations_Depending_on_Context">
Phrases That Require Multiple Translations Depending on Context</a></h3>

The same phrase may occur in two or more contexts without conflict. Once
a phrase has been translated in one context, \e {Qt Linguist} notes
that the translation has been made and when the translator reaches a
later occurrence of the same phrase \e {Qt Linguist} will provide
the previous translation as a possible translation candidate in the
phrases and guesses area. If the
previous translation is acceptable just click the <em>Done & Next</em>
button (press Alt+N) to move on to the next unfinished phrase.

If a phrase occurs more than once in a particular context it will only
be shown once in <em>Qt Linguist's</em> context list and
the translation will be applied to every occurrence within the context.
If the same phrase needs to be translated differently within the same
context the programmer must provide a distinguishing comment for each of
the phrases concerned. If such comments are used the duplicate phrases
will appear in the context list. The programmers comments will appear in
the translation area on a light blue background.

<h3><a name="Changing_Keyboard_Accelerators">
Changing Keyboard Accelerators</a></h3>

A keyboard accelerator is a key combination that when pressed will
cause an application to perform an action. Keyboard accelerators
normally come in two forms: Alt key and Ctrl key accelerators.

Alt key accelerators are used for menus and buttons.  The underlining
signifies that pressing the Alt key with the underlined letter is the
same as clicking the menu item with the mouse.  For example, most
applications have a \e File menu with the "F" in the word "file"
underlined. In these applications the file menu can be invoked either by
clicking the word "File" on the menu bar or by pressing Alt+F. The
accelerator key which is underlined is signified by preceeding it with
an ampersand, e.g. \e &File. If a source phrase appears with an
ampersand in it then the translation should also contain an ampersand,
preferably in front of the same letter. The meaning of Alt key
accelerators can be determined from the phrase in which the ampersand is
embedded. The translator may need to change the letter used with the Alt
key, e.g. if the translated phrase does not contain the original
accelerator letter. Conflicts with other keys, i.e. having two Alt key
accelerators using the same letter in the same context, must be avoided.
Note that some Alt key accelerators, usually those on the menu bar, may
apply in other contexts.

Ctrl key accelerators can exist independently of any visual
control. They are often used to invoke actions in menus that would
otherwise take several keystrokes or mouse clicks. They may also be used
to perform actions that do not appear in any menu or on any button. For
example, most applications that have a \e File menu have a submenu item
called \e New. In many applications this will appear as
<em><u>N</u>ew... Ctrl+N</em>. This menu option could be invoked by
clicking \e File then clicking \e New with the mouse. Or you could press
Alt+F then press N since these letters are underlined. But the same
thing can be achieved simply by pressing <em>Ctrl+N</em>. Accelerators that use
the Ctrl key are shown literally in the source text, e.g.
<em>Ctrl+N</em>. Ctrl key accelerators have no phrase so the translator
must rely on the programmer to add a "comment" which appears in the
top right hand pane. This comment should explain what action the Ctrl
key accelerator performs. Ideally Ctrl key accelerators are translated
simply by copying them by clicking the <em>Start from Source</em> button.
However in some cases the letter will not make sense in the target
language and must be changed. Whatever letter (or digit) is chosen, the
translation should always be in the form "Ctrl+" followed by the letter
or digit in upper case. As with Alt key accelerators, if the translator
changes the key it must not conflict with any other Ctrl key
accelerator.

Later versions of \e {Qt Linguist} are expected to help the
translator avoid accelerator conflicts.

<h3><a name="Dealing_with_Phrases_That_Contain_Variables">
Dealing with Phrases That Contain Variables</a></h3>

Some phrases contain variables. Variables are placeholders for items of
text that are filled in at runtime. They are signified in the source
text with a percent sign followed by a digit, e.g. <em>After processing
file %1, file %2 is next in line.</em> In this example, \c %1 will be
replaced at runtime with the name of the first file to be processed and
\c %2 with the name of the next file to be processed. In the translated
version the variables must still appear. For example a German
translation might reverse the phrases, e.g. <em>Datei %2 wird
bearbeitet, wenn. Datei %1 fertig ist.</em> Note that both variables
are still used but their order has changed. The order in which variables
appear does not matter; \c %1 will always be replaced by the same text
at runtime no matter where it appears in the source text or translation
and similarly \c %2, etc.

<h3><a name="Reusing_Translations">Reusing Translations</a></h3>

If the translated text is similar to the source text, click the
<em>Start from Source</em> button (press Alt+T) which will copy the
source text into the translation area.

\e {Qt Linguist} automatically lists phrases from the open phrase
books and similar or identical phrases that have already been translated
in the Phrases and guesses area.

<h2><a name="Creating_and_Using_Phrase_Books">
Creating and Using Phrase Books</a></h2>

<center><img src="../images/phrasebookdialog.png" alt="Phrase Book Dialog">
<h5>Phrase Book Dialog</h5></center>

A \e {Qt Linguist} phrase book is a set of source phrases, target
(translated) phrases, and optional definitions. Phrase Books are created
independently of any application, although typically one phrase book
will be created per application or family of applications.

If the translator reaches an untranslated phrase that is the same as a
source phrase in the phrase book, \e {Qt Linguist} will show the
phrase book entry in the <em>Relevant phrases</em> panel at the bottom
right of the main window. Phrases which have translations that conflict
with those given in the phrase book are marked with a question mark in
the source text pane. Phrase Books are used to provide a common set of
translations to help ensure consistency. They can also be used to avoid
duplication of effort since the translations for a family of
applications can be produced once in the phrase book and the phrase book
used for the majority of translations in each application.

Before a phrase book can be edited it must be created or if it already
exists, opened. Create a new phrase book by selecting
<em>Phrase|New Phrase Book</em> from the menu bar. You must enter a
filename and may change the location of the file if you wish. A newly
created phrase book is automatically opened. Open an existing phrase
book by choosing <em>Phrase|Open Phrase Book</em> from the menu bar.

To add a new phrase click the <em>New Phrase</em> button (or press
Alt+N) and type in a new source phrase. Press Tab and type in the
translation. Optionally press Tab and enter a definition -- this is
useful to distinguish different translations of the same source phrase.
This process may be repeated as often as necessary.

You can delete a phrase by selecting it in the phrases list and clicking
Remove Phrase.

Click the \e Save button (press Alt+S) and then click the \e Close
button (press Esc) once you've finished adding (and removing) phrases.

When a phrase or set of phrases appears in the phrase book double
clicking the required target phrase will copy it to the translation pane
at the text cursor position. If you want to \e replace the text in the
translation pane with the target phrase, click the translation pane,
choose <em>Edit|Select All</em> (press Alt+A) and then double click the
target phrase.

<h2><a name="Validation">Validation</a></h2>

\e {Qt Linguist} provides three kinds of validation on translated
phrases.

<ol>
<li><em>Accelerator validation</em> detects translated phrases
that do not have an ampersand when the source phrase does and vice
versa.
<li><em>Punctuation validation</em> detects differences in the
terminating punctuation between source and translated phrases when this
may be significant, e.g. warns if the source phrase ends with an
ellipsis, exclamation mark or question mark, and the translated phrase
doesn't and vice versa.
<li><em>Phrases validation</em> detects source phrases that are
also in the phrase book but whose translation differs from that given in
the phrase book.
</ol>

Validation may be switched on or off from the menu bar's Validation item
or using the toolbar buttons. Phrases that fail validation are marked
with a question mark in the source text pane. If you switch validation
off and then switch it on later \e {Qt Linguist} will recheck all
phrases and mark any that fail validation.

If any phrase in a context is invalid the context itself will be marked
with a question mark; if all the phrases in a context are done and valid the
context will be marked with a tick, otherwise the context has a question
mark.

Note that only phrases which are marked as done, (with a tick), will be
appear in the application. Invalid phrases and phrases which are
translated but not marked as done are kept in the translation source
file but are not used by the application.

<h2><a name="Qt_Linguist_Reference">Qt Linguist Reference</a></h2>

<h3><a name="File_Types">File Types</a></h3>

\e {Qt Linguist} makes use of three kinds of file:

<ul>
<li>\c .ts <em>translation source files</em><br>are human-readable XML
files containing source phrases and their translations. These files are
usually created and updated by \e lupdate and are specific to an
application.
<li>\c .qm <em>Qt message files</em><br>are binary files that contain
translations used by an application at runtime. These files are
generated by \e lrelease, but can also be generated by <em>Qt
Linguist</em>.
<li>\c .qph <em>Qt phrase book files</em><br>are human-readable XML
files containing standard phrases and their translations. These files
are created and updated by \e {Qt Linguist} and may be used by any
number of projects and applications.
</ul>

<h3><a name="The_Menu_Bar">The Menu Bar</a></h3>

<center><img src="../images/menubar.png" alt="Menu Bar">
<h5>Menu Bar</h5></center>

<ul>
<li><em>File</em>
    <ul>
    <li><em>Open...</em><br>pops up a file open dialog from which a
    translation source \c .ts file can be chosen.
    <li><em>Save</em><br>saves the current translation source \c .ts file.
    <li><em>Save As...</em><br>pops up a file save as dialog so that the
    current translation source \c .ts file may be saved with a different
    name and/or put in a different location.
    <li><em>Release...</em><br>pops up a file save as dialog. The
    filename entered will be a Qt message \c .qm file of the translation
    based on the current translation source file. The release manager's
    command line tool \e lrelease performs the same function on
    <i>all</i> of an application's translation source files.
    <li><em>Print...</em><br>pops up a print dialog. If you click OK the
    translation source and the translations will be printed.
    <li><em>Recently opened files</em><br>shows the \c .ts files that
    have been opened recently, click one to open it.
    <li><em>Exit</em><br>quits \e {Qt Linguist}.
    </ul>
    <br><br>
<li><em>Edit</em>
    <ul>
    <li><em>Undo</em><br> undoes the last editing action in the
    translation pane.
    <li><em>Redo</em><br> redoes the last editing action in the
    translation pane.
    <li><em>Cut</em><br> deletes any highlighted text in the translation
    pane and saves a copy to the clipboard.
    <li><em>Copy</em><br> copies the highlighted text in the translation
    pane to the clipboard.
    <li><em>Paste</em><br> pastes the clipboard text into the translation
    pane.
    <li><em>Delete</em><br> deletes the highlighted text in the
    translation pane.
    <li><em>Select All</em><br> selects all the text in the translation
    pane ready for copying or deleting.
    <li><em>Find...</em><br> pops up the
    <a href="#The_Find_Dialog">Find dialog</a>. When the dialog pops up
    enter the text to be found and click the <em>Find Next</em> button.
    Source phrases, translations and comments may be searched.
    <li><em>Find Next</em><br> finds the next occurrence of the text that
    was last entered in the Find dialog.
    </ul>
    <br><br>
<li><em>Translation</em>
    <ul>
    <li><em>Start From Source</em><br>copy the source text into the
    translation
    <li><em>Prev Unfinished</em><br>move to the nearest previous
    unfinished source phrase (unfinished means untranslated or
    translated but failed validation)
    <li><em>Next Unfinished</em><br>move to the next unfinished source
    phrase
    <li><em>Prev</em><br>move the the previous source phrase
    <li><em>Next</em><br>move the the next source phrase
    <li><em>Done & Next</em><br>mark this phrase as 'done' (translated)
    and move to the next unfinished source phrase
    </ul>
    <br><br>
<li><em>Validation</em> (See the <a href="#Validation">"Validation"</a>
    section)
    <ul>
    <li><em>Accelerators</em><br> toggles validation on or off for Alt
    accelerators.
    <li><em>Ending Punctuation</em><br> switches validation on or off
    for phrase ending punctuation, e.g. ellipsis, exclamation mark,
    question mark, etc.
    <li><em>Phrase Matches</em><br> sets validation on or off for
    matching against translations that are in the current phrase book.
    </ul>
    <br><br>
<li><em>Phrase</em> (See the section
<a href="#Creating_and_Using_Phrase_Books">"Creating and Using Phrase
Books"</a> for details.)
    <ul>
    <li><em>New Phrase Book...</em><br> pops up a file save as dialog.
    You must enter a filename to be used for the phrase book and save
    the file. Once saved you should open the phrase book to begin using
    it.
    <li><em>Open Phrase Book...</em><br> pops up a file open dialog.
    Find and choose a phrase book to open.
    <li><em>Close Phrase Book</em><br> closes the current phrase book.
    This will stop any further phrase validation taking place.
    The same effect can be achieved by switching off phrase validation
    using the Validation menu or the phrase toolbar button.
    <li><em>Edit Phrase Book...</em><br> pops up the
    <a href="#The_Phrase_Dialog">phrase book dialog</a> where you can
    add, edit or delete phrases.
    <li><em>Print Phrase Book...</em><br> pops up a print dialog. If
    you click OK the phrase book will be printed.
    </ul>
    <br><br>
<li><em>View</em>
    <ul>
    <li><em>Revert Sorting</em><br> puts the phrases in the source text
    pane into their original order.
    <li><em>Display Guesses</em><br> turns the display of phrases and
    guesses on or off.
    <!--
    <li><em>Large Icons</em><br> switches between large or standard
    size icons on the toolbar.
    <li><em>Text Labels</em><br> toggles the use of text labels on the
    toolbar icons.
    -->
    </ul>
    <br><br>
</ul>

<h3><a name="The_Toolbar">The Toolbar</a></h3>

<center><img src="../images/toolbar.png" alt="Toolbar">
<h5>Toolbar</h5></center>

<dl>
<dt><img src="../images/fileopen.png"></dt>
<dd>Pop up the file open dialog to open a new translation source \c .ts
file.</dd>
<dt><p><img src="../images/filesave.png"></dt>
<dd>Save the current translation source \c .ts file.</dd>
<dt><p><img src="../images/fileprint.png"></dt>
<dd>Print the current translation source \c .ts file.</dd>
<dt><p><img src="../images/phrasebookopen.png"></dt>
<dd>Pop up the file open dialog to open a new phrase book \c .qph file.</dd>
<dt><p><img src="../images/editundo.png"></dt>
<dd>Undo the last editing action in the translation pane.</dd>
<dt><p><img src="../images/editredo.png"></dt>
<dd>Redo the last editing action in the translation pane.</dd>
<dt><p><img src="../images/editcut.png"></dt>
<dd>Delete any highlighted text in the translation pane and save a copy to
the clipboard.</dd>
<dt><p><img src="../images/editcopy.png"></dt>
<dd>Copy the highlighted text in the translation pane to the clipboard.</dd>
<dt><p><img src="../images/editpaste.png"></dt>
<dd>Paste the clipboard text into the translation pane.</dd>
<dt><p><img src="../images/editdelete.png"></dt>
<dd>Delete the highlighted text in the translation pane.</dd>
<dt><p><img src="../images/editfind.png"></dt>
<dd>Pop up the <a href="#The_Find_Dialog">Find dialog</a>.</dd>
<dt><p><img src="../images/startfromsource.png"></dt>
<dd>Copy the source phrase to the translation area.</dd>
<dt><p><img src="../images/prev.png"></dt>
<dd>Move to the previous source phrase.</dd>
<dt><p><img src="../images/next.png"></dt>
<dd>Move to the next source phrase.</dd>
<dt><p><img src="../images/prevunfinished.png"></dt>
<dd>Move to the previous unfinished source phrase.</dd>
<dt><p><img src="../images/nextunfinished.png"></dt>
<dd>Move to the next unfinished source phrase.</dd>
<dt><p><img src="../images/doneandnext.png"></dt>
<dd>Mark the phrase as 'done' (translated) and move to the next
unfinished source phrase.</dd>
<dt><p><img src="../images/validateaccelerators.png"></dt>
<dd>Toggle accelerator validation on and off.</dd>
<dt><p><img src="../images/validatepunctuation.png"></dt>
<dd>Switch phrase ending punctuation validation on and off.</dd>
<dt><p><img src="../images/validatephrases.png"></dt>
<dd>Set phrase book validation on or off.</dd>
</dl>

<h3><a name="The_Find_Dialog">The Find Dialog</a></h3>

<center><img src="../images/finddialog.png" alt="The Find Dialog">
<h5>The Find Dialog</h5></center>

Choose <em>Edit|Find</em> from the menu bar or press <em>Ctrl+F</em> to pop up
the Find dialog. Press <em>F3</em> to repeat the last search. By default the
source phrases, translations and comments will all be searched and the
search will be case-insensitive. These settings can be changed by
checking or unchecking the checkboxes to reflect your preferences.

<h3><a name="The_Phrase_Dialog">The Phrase Dialog</a></h3>

This dialog is explained in the
<a href="#Creating_and_Using_Phrase_Books">
"Creating and Using Phrase Books"</a> section.

*/
