######################################################################
# Automatically generated by qmake (1.08a) Wed Dec 1 17:36:18 2004
######################################################################

TEMPLATE = subdirs

# Compat tests
COMPAT_SUBDIRS += \
           q3accel \
           q3action \
           q3actiongroup \
           q3buttongroup \
           q3canvas \
           q3cstring \
           q3dateedit \
           q3dict \
           q3dns \
           q3dockwindow \
           q3hbox \
           q3header \
           q3iconview \
           q3listview \
           q3listviewitemiterator \
           q3mainwindow \
           q3process \
           q3ptrlist \
           q3semaphore \
           q3socketdevice \
           q3toolbar \
           q3richtext \
           q3table \
           q3textbrowser \
           q3textedit \
           q3timeedit \
           q3urloperator \
           q3valuelist \
           q3valuevector \
           qcstring \
           qsqlcursor \
           qsqlselectcursor \
           qtextbrowser \
           qworkspace

# The following tests use compat stuff for its testing.
# Ideally they should move into the section below..
COMPAT_USING_SUBDIRS = \
           compilerwarnings \
           qaccessibility \
           qalgorithms \
           qchecklistitem \
           qcoreapplication \
           qdatastream \
           qdeepcopy \
           qfocusevent \
           qfontmetrics \
           qlistbox \
           qmake \
           qmenubar \
           qpointarray \
           qpopupmenu \
           qprinter \
           qprocess \
           qscrollview \
           qserversocket \
           qsocket \
           qsplitter \
           qsql \
           qsqldatabase \
           qtextstream \
           quridrag \
           qvariant \
           qwidget \
           qwidgetstack

# Directories
SUBDIRS += collections \
           compile \
           qabstractbutton \
           qabstractitemmodel \
           qabstractitemview \
           qabstractslider \
           qaction \
           qwidgetaction \
           qactiongroup \
           qapplication \
           qatomic \
           qatomicpointer \
           qbitarray \
           qbuffer \
           qbuttongroup \
           qbrush \
           qbytearray \
           qcache \
           qchar \
           qcheckbox \
           qcolor \
           qcombobox \
           qcomplextext \
           qcssparser \
           qdate \
           qdatetime \
           qdatetimeedit \
           qdebug \
           qdial \
           qdialog \
           qdir \
           qdirmodel \
           qdockwidget \
           qdom \
           qdoublespinbox \
           qdoublevalidator \
           qeventloop \
           qfile \
           qfileinfo \
           qfont \
           qfontdatabase \
           qfontdialog \
           qftp \
           qglobal \
           qgridlayout \
           qgroupbox \
           qguivariant \
           qhash \
           qheaderview \
           qhostaddress \
           qhostinfo \
           qhttp \
           qicon \
           qimage \
           qimagereader \
           qimagewriter \
           qintvalidator \
           qiodevice \
           qitemselectionmodel \
           qkeyevent \
           qkeysequence \
           qlabel \
           qlibrary \
           qline \
           qlineedit \
           qlistview \
           qlistwidget \
           qlocale \
           qmainwindow \
           qmap \
           qmenu \
           qmetacall \
           qmetaobject \
           qmetatype \
           qmouseevent \
           qmouseevent_modal \
           qmovie \
           qmutex \
           qnativesocketengine \
           qobject \
           qobjectrace \
           qpainter \
           qpainterpath \
           qpen \
           qpicture \
           qpixmap \
           qpixmapcache \
           qpointer \
           qprogressbar \
           qpushbutton \
           qqueue \
           qreadwritelock \
           qrect \
           qregexp \
           qregexpvalidator \
           qregion \
	   qresourceengine \
           qset \
           qscriptengine \
           qsemaphore \
           qsettings \
           qshortcut \
           qsignalmapper \
           qsignalspy \
           qsize \
           qsizef \           
           qsocketnotifier \
           qsocks5socketengine \
	   qsortfilterproxymodel \
           qspinbox \
           qsqlfield \
           qsqlquerymodel \
           qsqlrecord \
           qsqlrelationaltablemodel \
           qsqltablemodel \
           qsqlthread \
           qsqlquery \
           qstackedlayout \
           qstandarditemmodel \
           qstatusbar \
           qstl \
           qstring \
           qstringlist \
           qstringlistmodel \
           qstyle \
           qstyleoption \
           qsvgdevice \
           qtableview \
           qsyntaxhighlighter \
           qtabbar \
           qtablewidget \
           qtabwidget \
           qtcpserver \
           qtcpsocket \
           qtemporaryfile \
           qtextblock \
           qtextcodec \
           qtextcursor \
           qtextdocument \
           qtextdocumentlayout \
           qtextdocumentfragment \
           qtextedit \
           qtextlayout \
           qtextlist \
           qtextpiecetable \
           qtexttable \
           qthread \
           qthreadstorage \
           qtime \
           qtimer \
           qtoolbar \
           qtoolbox \
           qtranslator \
           qtreeview \
           qtreewidget \
           qtreewidgetitemiterator \
           qtwidgets \
           qudpsocket \
           qurl \
           quuid \
           qwaitcondition \
           qwineventnotifier \
           qwmatrix \
           qxmlsimplereader \
           symbols \
           moc \
           atwrapper

contains(QT_CONFIG,embedded): {
	SUBDIRS += \
		qcopchannel \
		qwsinputmethod
}

# Run test dependent on Qt3Compat lib last
contains(QT_CONFIG,qt3support):SUBDIRS += $$COMPAT_USING_SUBDIRS $$COMPAT_SUBDIRS


# This gives us a top level debug/release and debug-install/release-install ------------------------
debug_and_release: {
    EXTRA_DEBUG_TARGETS =
    EXTRA_RELEASE_TARGETS =
    EXTRA_DEBUG_INSTALL_TARGETS =
    EXTRA_RELEASE_INSTALL_TARGETS =
    for(sub, SUBDIRS) {
        sub_pro = $$sub/$${basename(sub)}.pro
        !exists($$sub_pro):next()
        isEqual($$list($$fromfile($$sub_pro, TEMPLATE)), app) {
            #debug
            eval(debug-$${sub}.depends = $${sub}/$(MAKEFILE) $$EXTRA_DEBUG_TARGETS)
            eval(debug-$${sub}.commands = (cd $$sub && $(MAKE) -f $(MAKEFILE) debug))
            EXTRA_DEBUG_TARGETS += debug-$${sub}
            QMAKE_EXTRA_TARGETS += debug-$${sub}
        
            #debug-install
            eval(debug-install-$${sub}.depends = $${sub}/$(MAKEFILE) $$EXTRA_DEBUG_TARGETS)
            eval(debug-install-$${sub}.commands = (cd $$sub && $(MAKE) -f $(MAKEFILE) debug-install))
            EXTRA_DEBUG_INSTALL_TARGETS += debug-install-$${sub}
            QMAKE_EXTRA_TARGETS += debug-install-$${sub}
            
            #release
            eval(release-$${sub}.depends = $${sub}/$(MAKEFILE) $$EXTRA_RELEASE_TARGETS)
            eval(release-$${sub}.commands = (cd $$sub && $(MAKE) -f $(MAKEFILE) release))
            EXTRA_RELEASE_TARGETS += release-$${sub}
            QMAKE_EXTRA_TARGETS += release-$${sub}
            
            #release-install
            eval(release-install-$${sub}.depends = $${sub}/$(MAKEFILE) $$EXTRA_RELEASE_TARGETS)
            eval(release-install-$${sub}.commands = (cd $$sub && $(MAKE) -f $(MAKEFILE) release-install))
            EXTRA_RELEASE_INSTALL_TARGETS += release-install-$${sub}
            QMAKE_EXTRA_TARGETS += release-install-$${sub}
            
        } else { #do not have a real debug target/release
            #debug
            eval(debug-$${sub}.depends = $${sub}/$(MAKEFILE) $$EXTRA_DEBUG_TARGETS)
            eval(debug-$${sub}.commands = (cd $$sub && $(MAKE) -f $(MAKEFILE) debug))
            EXTRA_DEBUG_TARGETS += debug-$${sub}
            QMAKE_EXTRA_TARGETS += debug-$${sub}
        
            #debug-install
            eval(debug-install-$${sub}.depends = $${sub}/$(MAKEFILE) $$EXTRA_DEBUG_TARGETS)
            eval(debug-install-$${sub}.commands = (cd $$sub && $(MAKE) -f $(MAKEFILE) debug-install))
            EXTRA_DEBUG_INSTALL_TARGETS += debug-install-$${sub}
            QMAKE_EXTRA_TARGETS += debug-install-$${sub}
        
            #release
            eval(release-$${sub}.depends = $${sub}/$(MAKEFILE) $$EXTRA_RELEASE_TARGETS)
            eval(release-$${sub}.commands = (cd $$sub && $(MAKE) -f $(MAKEFILE) release))
            EXTRA_RELEASE_TARGETS += release-$${sub}
            QMAKE_EXTRA_TARGETS += release-$${sub}
        
            #release-install
            eval(release-install-$${sub}.depends = $${sub}/$(MAKEFILE) $$EXTRA_RELEASE_TARGETS)
            eval(release-install-$${sub}.commands = (cd $$sub && $(MAKE) -f $(MAKEFILE) release-install))
            EXTRA_RELEASE_INSTALL_TARGETS += release-install-$${sub}
            QMAKE_EXTRA_TARGETS += release-install-$${sub}
        }
    }
    debug.depends = $$EXTRA_DEBUG_TARGETS
    release.depends = $$EXTRA_RELEASE_TARGETS
    debug-install.depends = $$EXTRA_DEBUG_INSTALL_TARGETS
    release-install.depends = $$EXTRA_RELEASE_INSTALL_TARGETS
    QMAKE_EXTRA_TARGETS += debug release debug-install release-install
}
