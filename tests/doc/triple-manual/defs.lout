# @Ftp{URI}
# @Http{URI}
# @Key{key combination} e.g. @Key{Alt+P}
# @News{URI}
# @Shadow{ text }
# @Sidebar		e.g. { Caption } @Sidebar { Body }
# @PageRef{tag}		shows [p. 91]
# @TitlePageRef{tag}	shows ``Chapter Title'' [p. 51]
# @TitleRef{tag}	shows ``Chapter Title''

macro @QAT { Slope @Font @OneCol{Qt Assistant} }
macro @QDR { Slope @Font @OneCol{Qt Designer} }
macro @QLT { Slope @Font @OneCol{Qt Linguist} }
macro @QQ { {1.05 @Scale { Chancery BoldSlope } @Font { Qt Quarterly }} }

macro @Asterisk { { Dingbats Base } @Font { H } }
macro @Bsterisk { { Dingbats Base } @Font { J } }
macro @Number {N{+0.25f @VShift{0.8 @Scale{@Underline o}}}} # N°

macro @TTGreenColour		{{cmyk 0.40 0.00 1.00 0.01}}
macro @LightGreyColour		{{rgb 0.90 0.90 0.90}}

macro @SBPP { //0.35f 2f @Wide &0c }

def @Code right x { { 0.75 1.00 } @Scale { Courier Base } @Font x }
def @Class right x { { 0.75 1.00 } @Scale { Courier Bold } @Font x }
def @File right x { { 0.75 1.00 } @Scale { Courier Base } @Font x } # File or Program
def @Func right x { { 0.75 1.00 } @Scale { Courier Bold } @Font x } 
def @Option right x { { Helvetica Base -1p } @Font  x } # Button, toolbar button, menu option or key sequence
def @Prop right x { { Helvetica Slope -1p } @Font x } # Property
def @Win right x { Slope @Font x } # Window or dialog
def @Var right x { { 0.75 1.00 } @Scale { Courier Slope } @Font x } 


import @BasicSetup
def @Key right x {
    @CurveBox margin { 0.1f } paint { grey } 
    @CurveBox margin { 0.2f } paint { lightgrey } 
    { Helvetica Base -3p } @Font x 
}


import @BasicSetup 
def @Sidebar
    left title
    right x
{
    def @DetailsPlace { @Galley }
    def @SendDetails into { @DetailsPlace&&preceding } right x { @OneCol x }

    @CD 
    @Tbl
	rule { yes }
	aformat { @Cell indent { ctr } iv { ctr } paint { darkgrey }
			font { Helvetica Bold } white @Colour A }
	bformat { @Cell paint { @LightGreyColour } A }
    {
	@Rowa A { title }
	@Rowb A { x }
    }
    //
    @SendDetails x
}


def @Ftp  right x { @HContract{ftp{:|0.15s{"/"|0.4fo "/"}x}}}
def @Http right x { @HContract{http{:|0.15s{"/"|0.4fo "/"}x}}}
def @News right x { @HContract{news{:|0.15s{"/"|0.4fo "/"}x}}}

import @BasicSetup 
def @TitlePageRef right x { 
    x @Case {
	"" @Yield { red @Colour { ?? } }
	else @Yield {``{@TitleOf x}'' [p.~@PageOf{x}]} 
    }
}

import @BasicSetup 
def @TitleRef right x { 
    x @Case {
	"" @Yield { red @Colour { ?? } }
	else @Yield {``{@TitleOf x}''} 
    }
}

import @BasicSetup 
def @PageRef right x { 
    x @Case {
	"" @Yield { red @Colour { ?? } }
	else @Yield {[p.~@PageOf{ x }]} 
    }
}


import @BasicSetup
def @Shadow 
    named colour { black }
    named shade { lightgrey }
    named offset { 0.125f }
    right x 
{
    -offset @VShift shade @Colour x 
    @OverStrike 
    colour @Colour +offset @HShift +offset @VShift x
}


