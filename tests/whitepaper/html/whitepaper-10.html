<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- ./layouts.leaf:3 -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Layouts</title>
</head>
<body>
<p align="right">[<a href="whitepaper-9.html">Prev: Styles and Themes</a>] [<a href="whitepaper.html">Home</a>] [<a href="whitepaper-11.html">Next: Events</a>]</p>
<h2 align="center">Layouts</h2>
<blockquote>
<p>Layouts provide a powerful and flexible alternative to using fixed sizes and positions. Layouts free programmers from having to perform size and position calculations, and provide automatic scaling to suit users screens.</p>
</blockquote>
<!-- index automatic layouts --><!-- index child widget --><!-- index default widget size --><!-- index font changes --><!-- index layouts --><!-- index parent widget --><!-- index positioning of widgets --><!-- index repositioning of widgets --><!-- index resizing widgets --><!-- index size of widgets --><p>Qt provides layout managers for organizing child widgets within the parent widget's area. They feature automatic positioning of child widgets, automatic resizing, sensible minimum and default sizes for top-level widgets and automatic repositioning when the contents or the font changes. <a href="whitepaper-5.html">Qt Designer</a> is optimized for laying out widgets using layout managers.</p>
<h3><a name="1"></a>Built-in Layout Managers</h3>
<!-- index QGridLayout --><!-- index QHBoxLayout --><!-- index QPackerLayout --><!-- index QVBoxLayout --><p>Qt's built-in layout managers are <font color=darkblue><b>QHBoxLayout</b></font>, <font color=darkblue><b>QVBoxLayout</b></font> and <font color=darkblue><b>QGridLayout</b></font>.</p>
<p><img align="middle" src="qhbox.png" alt="QHBox with five child widgets">
<img align="middle" src="qvbox.png" alt="QVBox with five child widgets">
<img align="middle" src="qgrid.png" alt="QGrid with five child widgets">
</p>
<!-- index grid layout --><!-- index hbox --><!-- index horizontal box layout --><!-- index vbox --><!-- index vertical box layout --><p><font color=darkblue><b>QHBoxLayout</b></font> organizes the managed widgets in a single horizontal row from left to right. <font color=darkblue><b>QVBoxLayout</b></font> organizes the managed widgets in a single vertical column, from top to bottom. <font color=darkblue><b>QGridLayout</b></font> organizes the managed widgets in a grid of cells; widgets may span multiple cells.</p>
<p>In most cases, Qt's layout managers pick optimal sizes for managed widgets so that windows resize smoothly. If the defaults are insufficient, developers can refine the layout using the following mechanisms:</p>
<ol type=1><!-- index fixed size --><!-- index maximum size --><!-- index minimum size --><li><p><em>Setting a minimum size, a maximum size or a fixed size for some child widgets.</em></p>
<!-- index stretches --><!-- index spacer items --><li><p><em>Adding stretch items or spacer items.</em> Stretch or spacer items fill empty space in a layout.</p>
<!-- index size policy --><li><p><em>Changing the size policies of the child widgets.</em> By calling <font color=darkblue>QWidget::setSizePolicy()</font>, programmers can fine tune the resize behavior of a child widget. Child widgets can be set to expand, contract, keep the same size, etc.</p>
<!-- index preferred size --><li><p><em>Changing the child widgets' size hints.</em> <font color=darkblue>QWidget::sizeHint()</font> and <font color=darkblue>QWidget::minimumSizeHint()</font> return a widget's preferred size and preferred minimum size based on the contents. Built-in widgets provide appropriate reimplementations.</p>
<!-- index relative growth --><!-- index stretch factors --><li><p><em>Setting stretch factors.</em> Stretch factors allow relative growth of child widgets, e.g. two thirds of any extra space made available should be allocated to widget A and one third to widget B.</p>
</ol><!-- index Designer --><!-- index Qt Designer --><!-- index margin (in layouts) --><!-- index spacing (in layouts) --><p>The 'spacing' between managed widgets and the 'margin' around the whole layout can also be set by the programmer. By default, <a href="whitepaper-5.html">Qt Designer</a> sets industry-standard values based on the context.</p>
<!-- index Arabic --><!-- index Hebrew --><!-- index right-to-left languages --><p>Layouts can also run right-to-left and bottom-to-top. Right-to-left layouts are convenient for internationalized applications supporting right-to-left languages (e.g. Arabic and Hebrew).</p>
<h3><a name="2"></a>Nested Layouts</h3>
<p>Layouts can be nested to arbitrary levels. Here's an example of a dialog box, shown at two different sizes:</p>
<p align="center"><img align="middle" src="countries-small.gif">
</p>
<p align="center"><img align="middle" src="countries-large.gif">
</p>
<p>The dialog uses three layouts: a <font color=darkblue><b>QVBoxLayout</b></font> that groups the push buttons, a <font color=darkblue><b>QHBoxLayout</b></font> that groups the country listbox with the push buttons and a <font color=darkblue><b>QVBoxLayout</b></font> that groups the "Select a country" label with the rest of the widget. A stretch item maintains the gap between the <font color=darkgreen><em>Cancel</em></font> and <font color=darkgreen><em>Help</em></font> buttons.</p>
<p>The dialog's widgets and layouts are created with the following code:</p>
<pre>        setCaption( "International Trader" );

        QVBoxLayout *buttonBox = new QVBoxLayout( 6 );
        buttonBox-&gt;addWidget( new QPushButton("OK", this) );
        buttonBox-&gt;addWidget( new QPushButton("Cancel", this) );
        buttonBox-&gt;addStretch( 1 );
        buttonBox-&gt;addWidget( new QPushButton("Help", this) );

        QListBox *countryList = new QListBox( this );
        countryList-&gt;insertItem( "Canada" );
        /* ... */
        countryList-&gt;insertItem( "United States of America" );

        QHBoxLayout *middleBox = new QHBoxLayout( 11 );
        middleBox-&gt;addWidget( countryList );
        middleBox-&gt;addLayout( buttonBox );

        QVBoxLayout *topLevelBox = new QVBoxLayout( this, 6, 11 );
        topLevelBox-&gt;addWidget( new QLabel("Select a country", this) );
        topLevelBox-&gt;addLayout( middleBox );
</pre>
<!-- index Designer --><!-- index Qt Designer --><!-- index fixed positioning --> <p>Qt makes layouts so easy that programmers rarely use fixed positioning.</p>
<p><a href="whitepaper-5.html">Qt Designer</a> makes layouts even easier. With only 17 mouse clicks, you can create and lay out the widgets for the dialog shown above.</p>
<h3><a name="3"></a>Custom Layouts</h3>
<!-- index BorderLayout --><!-- index CardLayout --><!-- index QLayout --><!-- index SimpleFlow --><!-- index custom layouts --><!-- index flow layouts --><p>Developers can define custom layout managers by subclassing <font color=darkblue><b>QLayout</b></font>. The <tt>customlayout</tt> example provided with Qt presents three custom layout managers, <tt>BorderLayout</tt>, <tt>CardLayout</tt> and <tt>SimpleFlow</tt>, which programmers can use and modify.</p>
<!-- index QSplitter --><!-- index splitters --><p>Qt also includes <font color=darkblue><b>QSplitter</b></font>, a splitter bar that end users can manipulate. In some design situations, <font color=darkblue><b>QSplitter</b></font> may be preferable to a layout manager.</p>
<!-- index manual layouts --><p>For complete control, it is also possible to perform layout manually in a widget by reimplementing <font color=darkblue>QWidget::resizeEvent()</font> and by calling <font color=darkblue>QWidget::setGeometry()</font> on each child widget.</p>
<p><hr><ul> <li><a href=http://doc.trolltech.com/3.0/layout.html>http://doc.trolltech.com/3.0/layout.html</a> <li><a href=http://doc.trolltech.com/3.0/customlayout.html>http://doc.trolltech.com/3.0/customlayout.html</a> </ul></p>
<!-- eof -->
<p align="right">[<a href="whitepaper-9.html">Prev: Styles and Themes</a>] [<a href="whitepaper.html">Home</a>] [<a href="whitepaper-11.html">Next: Events</a>]</p>
</body>
</html>
