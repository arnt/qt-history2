<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- ./internationalization.leaf:3 -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Internationalization</title>
</head>
<body>
<p align="right">[<a href="whitepaper-7.html">Prev: Databases</a>] [<a href="whitepaper.html">Home</a>] [<a href="whitepaper-9.html">Next: Qt Linguist</a>]</p>
<h2 align="center">Internationalization</h2>
<blockquote>
<p>Qt fully supports Unicode, the international standard character encoding scheme. Programmers can freely mix Arabic, English, Hebrew, Japanese, Russian, and every other language supported by Unicode, in their applications. Qt also includes tools to support application translation to help companies reach international markets.</p>
</blockquote>
<!-- index i18n --><!-- index internationalization --><!-- index l10n --><!-- index localization --><!-- index multi-language --><p>Qt includes tools to facilitate the translation process. Programmers can easily mark user-visible text that needs translation and a tool is provided which extracts this text from the source code. <a href="whitepaper-9.html">Qt Linguist</a> is an easy-to-use GUI application for translators that reads the extracted source text and provides the text with context information for the translator to translate. When the translation is complete <a href="whitepaper-9.html">Qt Linguist</a> outputs the translations ready for use by application programs. <a href="whitepaper-9.html">Qt Linguist</a>'s documentation provides the relevant information for release managers, translators and programmers.</p>
<h3><a name="1"></a>Unicode</h3>
<!-- index QChar --><!-- index QRegExp --><!-- index QString --><!-- index Unicode --><!-- index char --><!-- index implicit sharing --><!-- index strings --><p>Qt uses the <font color=darkblue><b>QString</b></font> class to store Unicode strings, and uses it throughout the API and internally. <font color=darkblue><b>QString</b></font> replaces the crude <tt>const char *</tt> and the 16-bit <font color=darkblue><b>QChar</b></font> class replaces <tt>char</tt>. Constructors and operators are provided to automatically convert to and from 8-bit strings. Programmers can copy <font color=darkblue><b>QString</b></font>s by value, since they are implicitly shared (copy on write), which makes them fast and memory efficient.</p>
<!-- index regular expressions --><p><font color=darkblue><b>QString</b></font> is more than a 16-bit character string. Functions such as <font color=darkblue>QChar::lower()</font> and <font color=darkblue>QChar::isPunct()</font> replace <font color=darkblue>tolower()</font> and <font color=darkblue>ispunct()</font> and work over the whole Unicode range. Qt's regular expression engine, provided by the <font color=darkblue><b>QRegExp</b></font> class, uses Unicode strings both for the regular expression pattern and the string to match.</p>
<!-- index QTextCodec --><!-- index charsets --><!-- index codecs --><!-- index encodings --><p>Conversion to and from different encodings and charsets is handled by <font color=darkblue><b>QTextCodec</b></font> subclasses. Qt uses <font color=darkblue><b>QTextCodec</b></font> for fonts, input methods and I/O; you can use it for your own purposes as well.</p>
<!-- index Big5 --><!-- index EUC-JP --><!-- index GBK --><!-- index ISO 8859 --><!-- index JIS --><!-- index KOI8-R --><!-- index Shift-JIS --><!-- index charmap --><p>Qt 3.0 supports 37 different encodings, including Big5 and GBK for Chinese, EUC-JP, JIS and Shift-JIS for Japanese, KOI8-R for Russian and the ISO 8859 series; see <a href="http://doc.trolltech.com/qtextcodec.html">http://doc.trolltech.com/qtextcodec.html</a> for the complete list. Programmers can add their own encodings by providing a charmap or by subclassing <font color=darkblue><b>QTextCodec</b></font>.</p>
<h3><a name="2"></a>Text Rendering</h3>
<!-- index Arabic --><!-- index Chinese --><!-- index Cyrillic --><!-- index Greek --><!-- index Hebrew --><!-- index Japanese --><!-- index Korean --><!-- index Latin --><!-- index Thai --><!-- index Vietnamese --><!-- index bidirectional writing --><!-- index diacritical marks --><!-- index fonts --><!-- index line breaking --><!-- index right-to-left languages --><!-- index text rendering --><!-- index writing systems --><p>Qt provides a powerful text-rendering engine for all text that is displayed on screen, from the simplest label to the most sophisticated rich-text editor. The engine supports advanced features such as special line breaking behavior, bidirectional writing and diacritical marks. It renders most of the world's writing systems, including Arabic, Chinese, Cyrillic, Greek, Hebrew, Japanese, Korean, Latin, Thai and Vietnamese. Qt will automatically combine many of the installed fonts to render multi-language text.</p>
<h3><a name="3"></a>Input Methods</h3>
<!-- index input methods --><!-- index keyboard --><p>Far-Eastern writing systems require many more characters than are available on a keyboard. The conversion from a sequence of key presses to actual characters is performed at the window-system level by software called input methods. Qt automatically supports the installed input methods.</p>
<h3><a name="4"></a>Dates and Times</h3>
<!-- index QDateEdit --><!-- index QDateTimeEdit --><!-- index QTimeEdit --><!-- index dates --><!-- index locales --><!-- index times --><p>The editor classes for dates and times (<font color=darkblue><b>QDateEdit</b></font>, <font color=darkblue><b>QTimeEdit</b></font> and <font color=darkblue><b>QDateTimeEdit</b></font>) respect the user's locale for separators and ordering.</p>
<h3><a name="5"></a>Translating Your Application</h3>
<!-- index translations --><p>Qt provides functions and tools to help you provide applications translated to many languages.</p>
<!-- index tr() --><p>To make a string translatable, simply wrap it in a call to <font color=darkblue>tr()</font> (read "translate"):</p>
<pre>
    saveButton-&gt;setText( tr("Save") );
</pre>
<p><font color=darkblue>tr()</font> attempts to replace a string literal (e.g. <tt>"Save"</tt>) with a translation if one is available; otherwise it uses the original text. You can use English as the source language and Chinese as the translated language, or vice versa. The argument to <font color=darkblue>tr()</font> is converted to Unicode from the application's default encoding.</p>
<!-- index QObject --><!-- index comments (for translation) --><!-- index contexts (for translation) --><!-- index source texts --><p><font color=darkblue>tr()</font>'s general syntax is</p>
<pre>
    Context::tr("source text", "comment")
</pre>
<p>The 'context' is the name of a <font color=darkblue><b>QObject</b></font> subclass. It is usually omitted, in which case the class containing the <font color=darkblue>tr()</font> call is used as the context. The 'source text' is the text to translate. The 'comment' is optional; along with the context, it provides additional information to the human translators.</p>
<!-- index .qm --><!-- index QTranslator --><!-- index locales --><p>Translations are stored in <font color=darkblue><b>QTranslator</b></font> objects, which use disk-based <tt>.qm</tt> files (Qt Message files). Each <tt>.qm</tt> file contains the translations for a particular language. It is possible to choose the language at run-time; for example, according to the locale or user preferences.</p>
<!-- index Linguist --><!-- index Qt Linguist --><!-- index lrelease --><!-- index lupdate --><p>Qt provides three tools for preparing <tt>.qm</tt> files: <font color=red><b>lupdate</i></font>, <a href="whitepaper-9.html">Qt Linguist</a> and <font color=red><b>lrelease</i></font>.</p>
<!-- index .ts --><!-- index XML --><ol type=1><li><p><font color=red><b>lupdate</i></font> extracts all the (context, source text, comment) triples from the source code and generates a <tt>.ts</tt> file (Translation Source file). <tt>.ts</tt> files are in human-readable XML format.</p>
<li><p>Translators use the <a href="whitepaper-9.html">Qt Linguist</a> tool to provide translations for the source texts in the <tt>.ts</tt> files.</p>
<li><p>Highly compressed <tt>.qm</tt> files are generated by running <font color=red><b>lrelease</i></font> on the <tt>.ts</tt> files.</p>
</ol><p>These steps are repeated as often as necessary during the lifetime of an application. It is perfectly safe to run <font color=red><b>lupdate</i></font> frequently, as it reuses existing translations and marks translations for obsolete source texts without eliminating them. <font color=red><b>lupdate</i></font> also detects slight changes in source texts and automatically suggests translations. These translations are marked as unfinished so that a translator can easily check them.</p>
<!-- index French --><!-- index German --><p>Qt itself contains a modest 400 user-visible strings, for which Trolltech provides French and German translations.</p>
<p><hr><ul> <li><a href=http://doc.trolltech.com/3.0/i18n.html>http://doc.trolltech.com/3.0/i18n.html</a> <li><a href=http://doc.trolltech.com/3.0/unicode.html>http://doc.trolltech.com/3.0/unicode.html</a> <li><a href=http://doc.trolltech.com/3.0/scripts.html>http://doc.trolltech.com/3.0/scripts.html</a> <li><a href=http://doc.trolltech.com/3.0/linguist-manual.html>http://doc.trolltech.com/3.0/linguist-manual.html</a> </ul></p>
<!-- eof -->
<p align="right">[<a href="whitepaper-7.html">Prev: Databases</a>] [<a href="whitepaper.html">Home</a>] [<a href="whitepaper-9.html">Next: Qt Linguist</a>]</p>
</body>
</html>
