#
# For conditions of distribution and use, see copyright notice in libmng.h
#
# makefile for libmng - THE MNG library
# this makefile is suitable for Borland C++ Builder.
# it works (at least) with Borland C++ Builder v3

# Configuration options are now in mng_conf.h
# this option forces dll compatibility
MNGOPT = -DMNG_BUILD_DLL

# The name of your C compiler:
CC= bcc32

# compiler options:
CFLAGS= -WD -O2 -Hc -w-par -k -y -v -vi -c -tWD \
	-wuse -wucp -wstv -wstu -wsig -wpin -wnod -wnak -wdef -wcln -wbbf -wasm -wamp \
	-wamb -Tkh30000 -ff -5 -I.;..\zlib;..\jpgsrc6b;..\lcms\include $(MNGOPT)

# source files
SOURCES= mng_hlapi.c mng_callback_xs.c mng_prop_xs.c mng_chunk_xs.c \
	mng_read.c mng_write.c mng_display.c \
	mng_object_prc.c mng_chunk_prc.c mng_chunk_io.c mng_error.c mng_trace.c \
	mng_pixels.c mng_filter.c mng_dither.c mng_zlib.c mng_jpeg.c mng_cms.c

# object files
OBJECTS= mng_hlapi.obj mng_callback_xs.obj mng_prop_xs.obj mng_chunk_xs.obj \
	mng_read.obj mng_write.obj mng_display.obj \
	mng_object_prc.obj mng_chunk_prc.obj mng_chunk_io.obj mng_error.obj mng_trace.obj \
	mng_pixels.obj mng_filter.obj mng_dither.obj mng_zlib.obj mng_jpeg.obj mng_cms.obj

# type dependancies
.c.obj:
	$(CC) $(CFLAGS) -c{ $<}

# make options
all: libmng.lib

clean:
	- del *.obj
	- del libmng.lib

# file dependancies
libmng.lib: $(OBJECTS)
	- del libmng.lib
	tlib libmng.lib /E /C @&&|
+mng_hlapi.obj +mng_callback_xs.obj +mng_prop_xs.obj +mng_chunk_xs.obj &
+mng_read.obj +mng_write.obj +mng_display.obj &
+mng_object_prc.obj +mng_chunk_prc.obj +mng_chunk_io.obj +mng_error.obj +mng_trace.obj &
+mng_pixels.obj +mng_filter.obj +mng_dither.obj +mng_zlib.obj +mng_jpeg.obj +mng_cms.obj
|

mng_hlapi.obj: mng_hlapi.c libmng.h mng_conf.h mng_types.h \
	mng_data.h mng_objects.h mng_object_prc.h \
	mng_chunks.h mng_memory.h mng_error.h mng_trace.h mng_read.h mng_write.h \
	mng_display.h mng_zlib.h mng_cms.h mng_zlib.h
mng_callback_xs.obj: mng_callback_xs.c libmng.h mng_conf.h mng_types.h \
	mng_data.h mng_error.h mng_trace.h
mng_prop_xs.obj: mng_prop_xs.c libmng.h mng_conf.h mng_types.h \
	mng_data.h mng_error.h mng_trace.h mng_cms.h
mng_chunk_xs.obj: mng_chunk_xs.c libmng.h mng_conf.h mng_types.h \
	mng_data.h mng_chunks.h mng_chunk_prc.h mng_error.h mng_trace.h
mng_read.obj: mng_read.c libmng.h mng_conf.h mng_types.h \
	mng_data.h mng_objects.h mng_object_prc.h \
	mng_chunks.h mng_chunk_prc.h mng_chunk_io.h mng_memory.h mng_error.h mng_trace.h \
	mng_read.h mng_display.h
mng_write.obj: mng_write.c libmng.h mng_conf.h mng_types.h \
	mng_data.h mng_error.h mng_trace.h mng_write.h
mng_display.obj: mng_display.c libmng.h mng_conf.h mng_types.h \
	mng_data.h mng_objects.h mng_object_prc.h mng_memory.h \
	mng_error.h mng_trace.h mng_zlib.h mng_cms.h mng_pixels.h mng_display.h
mng_object_prc.obj: mng_object_prc.c libmng.h mng_conf.h mng_types.h \
	mng_data.h mng_objects.h mng_object_prc.h mng_memory.h mng_error.h mng_trace.h \
	mng_display.h
mng_chunk_prc.obj: mng_chunk_prc.c libmng.h mng_conf.h mng_types.h \
	mng_data.h mng_chunks.h mng_chunk_prc.h mng_memory.h mng_error.h mng_trace.h
mng_chunk_io.obj: mng_chunk_io.c libmng.h mng_conf.h mng_types.h \
	mng_data.h mng_objects.h mng_object_prc.h mng_chunks.h mng_chunk_io.h \
	mng_memory.h mng_error.h mng_trace.h mng_display.h mng_zlib.h mng_pixels.h
mng_error.obj: mng_error.c libmng.h mng_conf.h mng_types.h \
	mng_data.h mng_error.h mng_trace.h
mng_trace.obj: mng_trace.c libmng.h mng_conf.h mng_types.h \
	mng_data.h mng_error.h mng_trace.h
mng_pixels.obj: mng_pixels.c libmng.h mng_conf.h mng_types.h \
	mng_data.h mng_objects.h mng_memory.h mng_error.h mng_trace.h mng_cms.h mng_pixels.h
mng_filter.obj: mng_filter.c libmng.h mng_conf.h mng_types.h \
	mng_data.h mng_error.h mng_trace.h mng_filter.h
mng_dither.obj: mng_dither.c libmng.h mng_conf.h mng_types.h \
	mng_data.h mng_error.h mng_trace.h mng_dither.h
mng_zlib.obj: mng_zlib.c libmng.h mng_conf.h mng_types.h \
	mng_data.h mng_memory.h mng_error.h mng_trace.h mng_pixels.h mng_filter.h mng_zlib.h
mng_jpeg.obj: mng_jpeg.c libmng.h mng_conf.h mng_types.h \
	mng_data.h mng_memory.h mng_error.h mng_trace.h mng_pixels.h mng_jpeg.h
mng_cms.obj: mng_cms.c libmng.h mng_conf.h mng_types.h \
	mng_data.h mng_objects.h mng_error.h mng_trace.h mng_cms.h

