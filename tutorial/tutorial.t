#############################################################################
#!
#! This is a custom template for creating a tutorial/Makefile.
#!
#$ StdInit();
# Makefile for building all tutorials
# Generated by tmake at #$ Now();
#     Project: #$ $text = $project_name;
#    Template: #$ $text = $template_name;
#############################################################################

####### Directories

SUBDIRS =	#$ ExpandList("SUBDIRS");

####### Targets

all: targets

targets:
#${
    if ( $is_unix ) {
	$text = "\t" . 'set -e; for i in $(SUBDIRS); do ( cd $$i ; $(MAKE) ) ; done';
    } else {
	@t = split(/\s+/,$project{"SUBDIRS"});
	foreach $d ( @t ) {
	    $text = $text . "\tcd $d\n\t\$(MAKE) -f $d.mak\n\tcd ..\n";
	}
	chop $text;
    }
#$}

tmake:
#${
    if ( $is_unix ) {
	$text = "\t" . 'set -e; for i in $(SUBDIRS); do ( cd $$i ; tmake $$i.pro -o $$i.mak ) ; done';
    } else {
	@t = split(/\s+/,$project{"SUBDIRS"});
	foreach $d ( @t ) {
	    $text = $text . "\tcd $d\n\ttmake $d.pro -o $d.mak\n\tcd ..\n";
	}
	chop $text;
    }
#$}

showdirs:
	@echo $(SUBDIRS)

clean:
#${
    if ( $is_unix ) {
	$text = "\t" . 'set -e; for i in $(SUBDIRS); do ( cd $$i ; $(MAKE) clean ) ; done';
    } else {
	@t = split(/\s+/,$project{"SUBDIRS"});
	foreach $d ( @t ) {
	    $text = $text . "\tcd $d\n\t\$(MAKE) -f $d.mak clean\n\tcd ..\n";
	}
    }
#$}
