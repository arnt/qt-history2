#!/bin/sh

#
# Diffs two Qt versions, skips generated stuff, HTML and man pages
# Usage: diffqt dir1 dir2
#

diff -r -u \
  -I"^# Generated by tmake at " \
  -I"^\*\* This file is part of Qt Professional Edition, version [0-9]\.[0-9][0-9]" \
  -I"^\*\* This file is part of Qt Free Edition, version [0-9]\.[0-9][0-9]" \
  -I'^<td align="right"><div align="right">Qt version [0-9]\.[0-9][0-9]' \
  -I'^<input type=hidden name="version" value="[0-9]\.[0-9][0-9]*"><nobr>' \
  -I'SYSCONF_CXXFLAGS'	\
  -x '*.html' \
  -x '*.3qt' \
  $1 $2
