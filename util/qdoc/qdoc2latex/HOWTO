This document will explain you how to generate PostScript and PDF
documentation for Qt using qdoc2latex.

First you should have a set of master files describing the books you
want to generate. These master files typically have a .q2l extension.
Here's an example of such a file:

    \title Qt Basic Controls

    \input basic-controls-preface.html

    \book controls.book
    \class QCheckBox
    \class QComboBox
    \class QDial
    ...
    \class QToolButton
    \page troll.html

Let's call it basic-controls.q2l. This master file instructs
qdoc2latex to generate a book with the following structure:
basic-controls-preface.html as the Preface, qcheckbox.html as Chapter
1, qcombobox.html as Chapter 2, ..., qtoolbutton.html as Chapter N
and troll.html as Chapter N + 1. The syntax for specifying chapters
is identical to that in qdoc. That is, a documentation called
"\defgroup io" in qdoc should be referred to as "\defgroup io" in the
master file. \input is an exception; it includes documentation from
the current directory, not from the qdoc-generated documentation. It
is useful mainly for prefaces, as they have no on-line equivalent.
\book is also an exception. It refers to a .book file.

Make sure you have the PNG images in the documentation directory by
typing

    cp $QTDIR/gif/*.png $QTDIR/doc/html

If you get

    /home/jasmin/qt/gif/*.png: No such file or directory

it probably means that Qt's directories were rearranged and that
everything is fine out of the box. Also make sure that the
documentation in $QTDIR/doc/html is up-to-date and was generated with
the command-line option --friendly. If you forget this step,
qdoc2latex will complain for the HTML files that really need it.

All right. Now type

    qdoc2latex $QTDIR/doc/html basic-controls.q2l

$QTDIR/doc/html should contain the Qt documentation with the PNG
images. That should generate a file called basic-controls.tex. (Make
sure that convert is installed on your machine and is in the path.)

Run

    pslatex basic-controls.tex

to obtain a raw index file (.idx file). Pslatex is a special version
of LaTeX that works well with PostScript fonts. Now run 

    makeindex basic-controls.idx

to generate the alphabetical index file (.ind) from the .idx file.

Run pslatex two more times to obtain a reliable .dvi file:

    pslatex basic-controls.tex
    pslatex basic-controls.tex

Now type

    dvips basic-controls.dvi -o basic-controls.ps
    
to obtain a PostScript file. There are two ways of obtaining a PDF
file:

    ps2pdf basic-controls.ps basic-controls.pdf

or

    pdflatex basic-controls.tex

Pick the way that generates the best results in terms of on-screen
viewing, printed quality and file size. Make sure that the images
show up correctly.

Qdoc2latex has an -a4 option for A4 paper and -letter for letter. By
default, it will use a size that is appropriate for an actual book.
The option -2sided is useful for two-sided printing, as it sets up
the header and the margins correctly.

Qdoc2latex can convert many master files at once. If you are breaking
down Qt in ten small books, you will want to use this option to get
proper cross-references through books.

You might have to tweak the generated .tex files to obtain
better-looking results, especially with tables (HTML table tag, LaTeX
tabular environment). Make sure to save your changes in a patch
(unified diff) so that it can be reapplied on the next Qt release.

Also, qdoc2latex prints a list of qdoc-generated HTML files that
don't appear in the books. This list should help you see if you forgot
any new classes. You might want to keep a list of HTML files not needed
in the books (e.g., index.html and qlist.html in Qt 3.0) and compare it
with what qdoc2latex reports to spot new classes.

If you need help, ask Jasmin Blanchette (jasmin@trolltech.com) or
Mark Summerfield (mark@trolltech.com).

Quick Summary:

    # Make the Qt documentation
    qdoc --friendly

    # Make sure images are in the html directory, e.g.
    cp $QTDIR/gif/*.png $QTDIR/doc/html

    # Now generate the book(s)
    qdoc2latex $QTDIR/doc/html basic-controls.q2l
    pslatex basic-controls.tex
    makeindex basic-controls.tex
    # Three times to resolve cross-references
    pslatex basic-controls.tex
    pslatex basic-controls.tex
    dvips basic-controls.dvi -o basic-controls.ps

    ps2pdf basic-controls.ps basic-controls.pdf
    # or
    pdflatex basic-controls.tex
