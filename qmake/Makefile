>>>> ORIGINAL Makefile#4
!IF "$(MAKE)" == "NMAKE" || "$(MAKE)" == "Nmake" || "$(MAKE)" == "nmake"
#
# specific stuff for nmake
#
CXX	    =   cl
CFLAGS	    =	/c /Fo$@ \
		/W3 /nologo /O1 \
		/I. /Igenerators /Igenerators\unix /Igenerators\win32 /Igenerators\mac /I..\include /I..\src\tools \
		/I..\mkspecs\win32-msvc \
		/DQT_NO_TEXTCODEC /DQT_NO_UNICODETABLES /DQT_LITE_COMPONENT /DQT_NODLL /DQT_NO_STL /DQT_NO_COMPRESS /DUNICODE
CXXFLAGS    =   $(CFLAGS)
LFLAGS	    =	/DEBUG
LIBS	    =	ole32.lib
LINKQMAKE   =	link $(LFLAGS) /OUT:qmake.exe $(OBJS) $(QTOBJS) $(LIBS)
ADDCLEAN    =	vc60.pdb qmake.pdb qmake.ilk
!ELSE
#
# specific stuff for Borland make
#
!if !$d(BCB)
BCB = $(MAKEDIR)\..
!endif
CXX	    =	bcc32
CFLAGS	    =	-c -o$@ \
		-tWR -w -w-hid -O1 \
		-I. -Igenerators -Igenerators\unix -Igenerators\win32 -Igenerators\mac -I..\include -I..\src\tools \
		-I..\mkspecs\win32-borland \
		-DQT_NO_TEXTCODEC -DQT_LITE_COMPONENT -DQT_NODLL -DQT_NO_STL -DQT_NO_COMPRESS -DUNICODE
CXXFLAGS    =   $(CFLAGS)
LFLAGS	    =	-L$(BCB)\lib -c -x -Gn -ap -Tpe c0x32.obj
LIBS	    =	import32.lib cw32i.lib
LINKQMAKE   =	ilink32 $(LFLAGS) $(OBJS) $(QTOBJS), qmake.exe,,$(LIBS)
ADDCLEAN    =	qmake.tds
!ENDIF
==== THEIRS Makefile#5
!IF "$(MAKE)" == "NMAKE" || "$(MAKE)" == "Nmake" || "$(MAKE)" == "nmake"
#
# specific stuff for nmake
#
CXX	    =   cl
CFLAGS	    =	/c /Fo$@ \
		/W3 /nologo /O1 \
		/I. /Igenerators /Igenerators\unix /Igenerators\win32 /Igenerators\mac /I..\include /I..\src\tools \
		/I..\mkspecs\win32-msvc \
		/DQT_NO_TEXTCODEC /DQT_NO_UNICODETABLES /DQT_LITE_COMPONENT /DQT_NODLL /DQT_NO_STL \
		/DQT_NO_COMPRESS /DUNICODE /DHAVE_QCONFIG_CPP
CXXFLAGS    =   $(CFLAGS)
LFLAGS	    =	/DEBUG
LIBS	    =	ole32.lib
LINKQMAKE   =	link $(LFLAGS) /OUT:qmake.exe $(OBJS) $(QTOBJS) $(LIBS)
ADDCLEAN    =	vc60.pdb qmake.pdb qmake.ilk
!ELSE
#
# specific stuff for Borland make
#
!if !$d(BCB)
BCB = $(MAKEDIR)\..
!endif
CXX	    =	bcc32
CFLAGS	    =	-c -o$@ \
		-tWR -w -w-hid -O1 \
		-I. -Igenerators -Igenerators\unix -Igenerators\win32 -Igenerators\mac -I..\include -I..\src\tools \
		-I..\mkspecs\win32-borland \
		-DQT_NO_TEXTCODEC -DQT_LITE_COMPONENT -DQT_NODLL -DQT_NO_STL -DQT_NO_COMPRESS -DUNICODE \
		-DHAVE_QCONFIG_CPP
CXXFLAGS    =   $(CFLAGS)
LFLAGS	    =	-L$(BCB)\lib -c -x -Gn -ap -Tpe c0x32.obj
LIBS	    =	import32.lib cw32i.lib
LINKQMAKE   =	ilink32 $(LFLAGS) $(OBJS) $(QTOBJS), qmake.exe,,$(LIBS)
ADDCLEAN    =	qmake.tds
!ENDIF
==== YOURS Makefile
########################################################################
## This file was autogenerated by configure, all changes will be lost ##
########################################################################
CC		= gcc
CXX		= g++
QMAKE_CFLAGS_DEBUG	= -g

#qmake code
OBJS=project.o main.o makefile.o unixmake2.o unixmake.o msvc_nmake.o \
     borland_bmake.o mingw_make.o msvc_dsp.o msvc_vcproj.o option.o \
     winmakefile.o projectgenerator.o metrowerks_xml.o  pbuilder_pbx.o \
     msvc_objectmodel.o property.o

#qt code
QOBJS=qstring.o qtextstream.o qiodevice.o qglobal.o qgdict.o qcstring.o \
      qdatastream.o qgarray.o qbuffer.o qglist.o qptrcollection.o qfile.o \
      qfile_unix.o qregexp.o qgvector.o qgcache.o qbitarray.o qdir.o quuid.o \
      qfileinfo_unix.o qdir_unix.o qfileinfo.o qdatetime.o qstringlist.o qmap.o \
      qconfig.o qunicodetables.o qsettings.o qsettings_win.o

CFLAGS=  $(QMAKE_CFLAGS_DEBUG) \
	-I. -Igenerators -Igenerators/unix -Igenerators/win32 -Igenerators/mac \
	-I/home/sam/troll/qt3.x/include/qmake -I/home/sam/troll/qt3.x/include -I/home/sam/troll/qt3.x/include \
	-DQT_NO_TEXTCODEC -DQT_NO_UNICODETABLES -DQT_LITE_COMPONENT -DQT_NO_STL \
	-DQT_NO_COMPRESS -I/home/sam/troll/qt3.x/mkspecs/linux-g++
CXXFLAGS= $(CFLAGS)
LFLAGS=

qmake: $(OBJS) $(QOBJS)
	$(CXX) -o $@ $(OBJS) $(QOBJS) $(LFLAGS)
	rm -f /home/sam/troll/qt3.x/bin/$@
	ln -s ../qmake/$@ /home/sam/troll/qt3.x/bin/$@

install: qmake
	[ -d $(INSTALL_ROOT)/home/sam/troll/qt3.x/bin ] || mkdir -p $(INSTALL_ROOT)/home/sam/troll/qt3.x/bin
	-cp -f /home/sam/troll/qt3.x/bin/qmake $(INSTALL_ROOT)/home/sam/troll/qt3.x/bin
	[ -d $(INSTALL_ROOT)/home/sam/troll/qt3.x ] || mkdir -p $(INSTALL_ROOT)/home/sam/troll/qt3.x
	-cp -r -f /home/sam/troll/qt3.x/mkspecs $(INSTALL_ROOT)/home/sam/troll/qt3.x

clean::
	rm -f $(OBJS) $(QOBJS)

distclean:: clean
	rm -rf qmake .deps

# don't use optimization for these
qtextstream.o: /home/sam/troll/qt3.x/src/tools/qtextstream.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qtextstream.cpp

qiodevice.o: /home/sam/troll/qt3.x/src/tools/qiodevice.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qiodevice.cpp

qglobal.o: /home/sam/troll/qt3.x/src/tools/qglobal.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qglobal.cpp

qgdict.o: /home/sam/troll/qt3.x/src/tools/qgdict.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qgdict.cpp

qcstring.o: /home/sam/troll/qt3.x/src/tools/qcstring.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qcstring.cpp

qstring.o: /home/sam/troll/qt3.x/src/tools/qstring.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qstring.cpp

qdatastream.o: /home/sam/troll/qt3.x/src/tools/qdatastream.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qdatastream.cpp

qunicodetables.o: /home/sam/troll/qt3.x/src/tools/qunicodetables.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qunicodetables.cpp

qgarray.o: /home/sam/troll/qt3.x/src/tools/qgarray.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qgarray.cpp

qbuffer.o: /home/sam/troll/qt3.x/src/tools/qbuffer.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qbuffer.cpp

qglist.o: /home/sam/troll/qt3.x/src/tools/qglist.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qglist.cpp

qptrcollection.o: /home/sam/troll/qt3.x/src/tools/qptrcollection.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qptrcollection.cpp

qfile.o: /home/sam/troll/qt3.x/src/tools/qfile.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qfile.cpp

qfile_unix.o: /home/sam/troll/qt3.x/src/tools/qfile_unix.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qfile_unix.cpp

qregexp.o: /home/sam/troll/qt3.x/src/tools/qregexp.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qregexp.cpp

qgvector.o: /home/sam/troll/qt3.x/src/tools/qgvector.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qgvector.cpp

qgcache.o: /home/sam/troll/qt3.x/src/tools/qgcache.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qgcache.cpp

qbitarray.o: /home/sam/troll/qt3.x/src/tools/qbitarray.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qbitarray.cpp

qdir.o: /home/sam/troll/qt3.x/src/tools/qdir.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qdir.cpp

quuid.o: /home/sam/troll/qt3.x/src/tools/quuid.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/quuid.cpp

qfileinfo_unix.o: /home/sam/troll/qt3.x/src/tools/qfileinfo_unix.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qfileinfo_unix.cpp

qdir_unix.o: /home/sam/troll/qt3.x/src/tools/qdir_unix.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qdir_unix.cpp

qfileinfo.o: /home/sam/troll/qt3.x/src/tools/qfileinfo.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qfileinfo.cpp

qdatetime.o: /home/sam/troll/qt3.x/src/tools/qdatetime.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qdatetime.cpp

qstringlist.o: /home/sam/troll/qt3.x/src/tools/qstringlist.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qstringlist.cpp

qsettings.o: ..\src\tools\qsettings.cpp
	$(CXX) $(CXXFLAGS) ..\src\tools\qsettings.cpp

qsettings_win.o: ..\src\tools\qsettings_win.cpp
	$(CXX) $(CXXFLAGS) ..\src\tools\qsettings_win.cpp

qfileinfo_win.o: ..\src\tools\qfileinfo_win.cpp
	$(CXX) $(CXXFLAGS) ..\src\tools\qfileinfo_win.cpp

qmap.o: /home/sam/troll/qt3.x/src/tools/qmap.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qmap.cpp

qconfig.o: /home/sam/troll/qt3.x/src/tools/qconfig.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) /home/sam/troll/qt3.x/src/tools/qconfig.cpp

winmakefile.o: generators/win32/winmakefile.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) generators/win32/winmakefile.cpp

project.o: project.cpp project.h option.h
	$(CXX) -c -o $@ $(CXXFLAGS) project.cpp

main.o: main.cpp project.h
	$(CXX) -c -o $@ $(CXXFLAGS) main.cpp

option.o: option.cpp option.h
	$(CXX) -c -o $@ $(CXXFLAGS) option.cpp

makefile.o: generators/makefile.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) generators/makefile.cpp

unixmake.o: generators/unix/unixmake.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) generators/unix/unixmake.cpp

unixmake2.o: generators/unix/unixmake2.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) generators/unix/unixmake2.cpp

borland_bmake.o: generators/win32/borland_bmake.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) generators/win32/borland_bmake.cpp

mingw_make.o: generators/win32/mingw_make.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) generators/win32/mingw_make.cpp

msvc_objectmodel.o: generators/win32/msvc_objectmodel.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) generators/win32/msvc_objectmodel.cpp

msvc_vcproj.o: generators/win32/msvc_vcproj.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) generators/win32/msvc_vcproj.cpp

msvc_nmake.o: generators/win32/msvc_nmake.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) generators/win32/msvc_nmake.cpp

metrowerks_xml.o: generators/mac/metrowerks_xml.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) generators/mac/metrowerks_xml.cpp

pbuilder_pbx.o: generators/mac/pbuilder_pbx.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) generators/mac/pbuilder_pbx.cpp

msvc_dsp.o: generators/win32/msvc_dsp.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) generators/win32/msvc_dsp.cpp

projectgenerator.o: generators/projectgenerator.cpp
	$(CXX) -c -o $@ $(CXXFLAGS) generators/projectgenerator.cpp

#default rules
.c.o:
	$(CC) -c -o $@ $(CFLAGS) $<

.cpp.o:
	$(CXX) -c -o $@ $(CXXFLAGS) $<
