Qt 4.1.3 is a bug-fix release. It maintains both forward and backward
compatibility (source and binary) with Qt 4.1.0.

The Qt version 4.1 series is binary compatible with the 4.0.x series.
Applications compiled for 4.0 will continue to run with 4.1.

#################################
# TODO: 2006/01/25 - 2006/04/11 #
# Last change: 213769
#################################

****************************************************************************
*                           General                                        *
****************************************************************************

Meta Object Compiler (moc)

Configure / Compilation
	Compile with NAS sound support enabled and no Qt 3 support.

Porting (qt3to4)
	qt3to4 now adds the needed include directive for 
	qPixmapFromMimeFactory().

Qt Designer
	Improved usability by letting the Find Icon dialog remember the last
	path visited.
	Fixed preview of DataTime and Date types.
	Generate correct .ui code when saving forms containing Q3DateEdit, 
	Q3TimeEdit, Q3ProgressBar and Q3TextBrowser.
	Fixed cursor position when editing text in QListWidget and QComboBox.
	Fixed code generation for custom widgets containing a QComboBox.
	Fixed but that prevented the windowTitle property for QDockWidgets from
	being designable.

Qt Assistant 
	Assistant now sets the proper encoding attribute when saving files,
	solving problems when viewing the page in some browsers.
	Improved window placement on startup.

Qt Linguist / Internationalization
	Improved window placement on startup.

uic
	Fix code generating bug for forms in namepsaces preventing connections
	from beeing made.
	Split large generated strings to avoid compiler errors.

qtconfig
	Fix assert when editing font family substitutions.

Qt Translation

Demos / Examples
	Fixed a bug in the Tooltips example when moving the cursor from one 
	circle to the next.
	Fixed a bug in the FTP example which caused the Download button to be
	incorrectly enabled/disabled.
	Fixed a crash in the FTP example.
	Made it easier to change the Arthur Widget properties in Designer.

****************************************************************************
*                          Library                                         *
****************************************************************************

General improvements
--------------------

- Fixed rendering of some GIF images.
- Popup and Tool widgets are now correctly blocked by a sibling modal dialog.
- Group-leader widgets are no longer blocked by non-child modal widgets.
- A parent modal dialog of a child modal dialog can no longer be brought on top of the child.
- Make sure modal widgets are modal when opened on a closing parent.
- Fix expose painting error when closing a child popup.

- Q3DockWindow
	Fixed placement when showing after being hidden.

- Q3GroupBox
	Removed empty row at the bottom.

- Q3TextBrowser
	Fix bug that preventend some Unicode HTML files from beeing displayed.

- Q3IconView
	Fixed a crash when disabling the view while an item is being edited.

- Q3Table
	Fixed a painting bug in the headers that occurred when a cell was
	selected.

- Q3UrlOperator
	Fixed listChildren() for the case when setProtocol() haven't been 
	called.

- Q3WhatsThis
	Proper handling of dynamic what's this texts.

- QAbstractItemView
	Fixed QStatusTipEvents for itemviews.
	Fixed a crash occurring when removing a row in a slot connected to
	selectionChanged().

- QAbstractSocket
	Fix potential crash when connecting to local sockets on BSD systems.

- QCheckBox
	Only emit the stateChanged() signal when the state actually change.

- QComboBox
	Correct escape of '&' in items.
	Reset input context when showing the popup.

- QCheckBox
	Fixed some painting issues when using CDE of Motif style.

- QDatabase
 	Fixed bool values in prepared values in the MYSQL driver.
	Fixed use of stored procedures that returns a result set in MySQL 5.x.
	Fixed queries on tables with a LONG field type in Orcle databases.
	Fixed reading of large blobs from an Interbase database.
	Fixed binding of OUT values.

- QDir
	Fix infinite loop in rename() if renaming a directory without write permission.

- QDirModel
	Fixed possible assert on broken links.
	Fix bug preventing links to "/" on Unix system from working correctly.

- QFile
	Correct error reporting on flush() and close().
	Fix caching issues causing wrong file sizes to be returned in some cases.

- QFileDialog
	Fixed a bug that allowed selection of multiple files in 
	getOpenFileName().
	Give proper error message when deleting a directory failed.
	Fix bug preventing update when changing the FileMode.

- QFtp
	Fix crash if FTP session got deleted in slot.

- QGridLayout
	All addWidget() functions now invalidates the layout.
	Fix minimum size for layouts that contains widgets that have height-for-width.

- QGroupBox
	Fixed some painting issues appearing on all styles except WindowsXP.
	Fixed keyboard handling if checkable.

- QHeaderView
	Fixed a bug preventing tooltips to be shown.
	Fixed a painting error occuring when the sort indicator was enabled
	and the column width got less than the indicator.
	Fixed a usability issue when resizing a small headers in a fixed 
	width QTreeWidget.
	Ensure correct size when the font change.
	Fixed a painting error when the header was hidden.
	Fixed a painting error when the user activated the context menu while
	pressing the left mouse key.
	Fixed bug giving the last section a resize cursor event though it cannot be resized.
	Icons in header views now respect the layout direction.

- QImage
	Fixed writing to a PNG file when the alpha value is premultiplied.
	Fixed a bug where dotsPermMeter was not preserved after 
	convertToFormat().

- QIODevice
	Fixed return values for Qt3 support members getch(), putch() and 
	ungetch().

- QImage
	Handle out of memory conditions gracefully.

- QItemDelegate
	Proper painting in inactive windows.

- QItemSelectionModel
	Emit currentChanged() when the current item is deleted.
	Fixed a bug causing the selection to be lost when an item was removed.

- QListView
	Fixed setRowHidden().
	Made descision of showing scrollbars independent of previous scrollbar
	state.

- QLocale
	Fix bug causing toString() to return the wrong day of week in some cases.

- QMainWindow
	Fixed a crash when deleting QMainWindow::statusBar().
	Fixed bug causing wrong behavior when removing a QToolBar with removeToolBar()
	Fixed layout error when showing the status bar after the mainwindow.

- QMenu
	Let setActiveAction open a submenu to be consistent with QMenuBar.
	Let the Alt key close a context menu.
	Improve navigation behavior when using Home/End.  
	Improve navigation behavior when using up/down arrow on a menu with no 
	selected items.
	Fix crash when clicking on cleared disabled submenus.

- QMotifStyle
	Draw QSlider tick marks.

- QMovie
	Improve frame delay calculations.

- QObject
	Fixed a crash when calling disconnect() on the last connection. 

- QPainter
	Optimized drawing of dotted lines.

- QPainter
	Fix bug causing contains(QPoint) to return the wrong answer in some cases.

- QPen
	Fixed bug that caused wrong dash patterns to be drawn when changing style.

- QPicture
	Fixed a DPI issue when drawing into a QLabel.

- QPlastiqueStyle
	Improved usability in QSlider by making the hit rectangle for mouse
	clicks wider. 
	Fixed animation of indeterminate progress bars.
	Draw lines for the hierarchal relationships in QTreeWidgets.

- QPrinter
	Optimized the size of PDF documents containing the same picture on 
	several places.
	Correctly handle systems with high resolution.

- QPrintDialog
	Fixed a crash when opening a page setup dialog on a PDF printer.

- QProcess
	exitStatus is now reset after a sub-process crash.
	Fix bug causing the system to lock on X11 after calling startDetached() 65536 times.

- QSettings
	Make it possible to the the "Default" registry entry on windows.

- QSortFilterProxyModel
	Fixed a crash when deleting rows.

- QStandardItemModel 
	Make sure the columnCount is updated after calling reomveColumn.	

- QSplashScreen
	Made sure the font set with setFont() is actually used.

- QSqlRelationalTableModel
	Inserting using the OnManualSubmit edit strategy failed in some cases.
	Fix removeColumn() for columns that contain relations.

- QSqlTableModel
	Make the OnFieldChange edit stragy behave like OnFieldChange when inserting
	rows. 

- QStackedLayout
	Fixed a bug causing a focus change when calling removeWidget().

- QSvgRenderer
	Fixed rendering into a QPicture.

- QSplashScreen
	Fixed rendering of pixmaps with alpha channels.

- QSqlRelationalTableModel
	Fix mixed-case field names for relations.

- QSqlTableModel
	Fixed a bug preventing setting the value 'false' on a field of bool
	type.

- QTabBar
	Only emit currentChanged() when the current index actually changes.

- QTableView
	Fixed selection after rows/columns have been moved.
	Made descision of showing scrollbars independent of previous scrollbar
	state.
 	Fixed a bug causing mouse clicks to be lost.

- QTabWidget
	Fixed drawing of icons.

- QTextCodec
	Fixed detection of locales with the '@' modifier.

- QTextEdit
	Fixed a bug causing setPlainText() to emit textChanged() three times.
	Fixed an infinte loop triggered if calling setHtml() inside 
	resizeEvent().
	Support pasting text with '\r' line feeds.

- QTreeWidget
 	Fix bug where itemChanged() to be emitted with a null pointer.

- QToolTip
	Enable word breaking in rich-text tooltips.

- QTextStream
	Fixed a bug causing aboutToClose() to be connected to a NULL slot
	after calling unsetDevice().

- QTreeView
	Fixed some drag and drop issues.
	Fixed a bug where the checkState of an item was unchanged after an
	itemClicked() signal was emitted.
	Made descision of showing scrollbars independent of previous scrollbar
	state.
	Fixed a bug causing horizontal scrolling when it only should scroll
	vertically.
	Fix Parent-child relation decoration painting error.
	Fix scrollbar visibility bug.	
	Fix branch indicator painting error in right-to-left mode.

- QTreeWidget
	Fixed selection after sortItems().

- QUrl
	Fixed setPort() with given -1 as port number.
	setEncodedUrl() now escapes '[' and ']' after the host in tlerantMode

- QUtf16Codec
	Fix bug in covertFromUnicode() on big-endian machines.

- QVariant
	Proper handling of variants of type "QList<QVariant>".

- QWorkSpace
	Set the correct position when maximizing a child with the NoBorder 
	hint.
	Fix MDI titlebar text wrapping in Plastique style.

Platform-Specific changes
-------------------------

Windows:

- Calling showMaximixed() on a QDialog without minimize nor maximize buttons
  now behaves properly.

- Fixed a bug making it possible to open multiple context menus using the 
  context menu key.

- Fixed writing of large files which failed on some systems.

- Optimized painting of ellipses.

- Fix window state bug when restoring minimized maximized windows.
- Fix painting error on XP style tabs in right-to-left mode.
- Fix incorrect toolbar button spacing in XP style
- Fix bug making QFontiIfo::family() return an empty string.
- Tool windows are now resizable by default.

- QPainter
	Fixed an issue where drawText() on a QPrinter sometimes would 
	be clipped away.
	Fixed drawEllipse() and drawLine() with negative coordinates.
	Fixed painting in OpaqueMode.

- QAxBase
	Fixed a bug preventing proper interaction with Excel.

- QAxWidget
	Fixed conversion of short* and char* output parameters.

- QFileinfo
	Fix crash when calling exitsts() on a invalid shortcut.

- QPrinter 
	setPageSize() now correctly updates pageRect and paperRect.

- QWindowsStyle
	Use the platform spesific icons provided by the system when
	appropriate.


X11:

- Fixed a bug in QFontDatabase which made isFixedPitch() return 'true' for 
  certain non-fixed-pitch fonts, like "Sans Serif".
- Correctly handle the .so file extension on HP/UX IA-64.
- Fixed a crash when clicking a mouse button while dragging.
- Improve QProcess resource usage by making sure it closes all unused pipes.
- Make QFontEngine honor the autohinter setting from FontConfig. 

Mac OS X:

- Fixed a bug that made the close button unavailable on modal windows.
- Fixed icon rendering on x86 CPUs.
- Fixed painting of QBitmap into a QPixmap.
- Added the -framework and -F configure options.
- Fixed a bug where the menubar would not show all items.
- Fixed several drag and drop issues.
- Fixed a crash when using a Qt-plugin in a non-Qt application.
- Fixed use of newlines in a QMessageBox.
- Fixed painting of QGroupBox without any text.
- Fixed rendering of Qt::FDiagPattern and Qt::BDiagPattern.
- Fixed building with -no-qt3support.
- Fixed painting of the sort indicator.
- Fixed text placements in QGroupBox.
- Fixed icon placements in QPushButton in RTL languages.
- Fixed painting of read-only lineedits.
- Fixed animation of the Composition Modes demo.
- Fixed painting of QSpinBoxes smaller than 25 pixels.
- Fixed bug preventing the page ranges in the print dialog form being set.
- Fixed bug causing QPrinter::pageSize() to return wrong sizes. 
- Fix setting printer resolution.
- Improve quality of PDF output. 

- QLibrary
	isLibrary() now supports .dylib libraries with version numbers.


Qtopia Core:

- Added configure options to build decorations and mouse drivers as plugins.
- Lots of new documentation.
- Added support for 8 and 16 bit screens.
- Fixed a bug that could result in painting errors after setting a new 
  decoration with QApplication::qwsSetDocoration().
- New skins for QVfb provided in the X11 package.
- Fixed the transparent corners of the window decoration using the plastique
  style.
- Removed dependency of shared memory when using QT_NO_QWS_MULTIPROCESS.
- Fix input method focus change problems.
- Look for fonts using QLibrary::LibrariesPath instead of PrefixPath

3rd-party libraries
-------------------


