Qt 4.1.1 is a bug-fix release. It maintains both forward and backward
compatibility (source and binary) with Qt 4.1.0.

The Qt version 4.1 series is binary compatible with the 4.0.x series.
Applications compiled for 4.0 will continue to run with 4.1.

****************************************************************************
*                           General                                        *
****************************************************************************

moc
        Better handling of preprocessor statements in combination
        with multiline comments.


configure
        Respect the -no-sql-mysql flag.

compilers
        Fix build of dumpcpp-dependent projects in Visual Studio 6.

        Fixed compilation for solaris-cc-64.

Qt Designer
        Numerous fixes and improvements.
        
        uic3: Prevent generation of invalid font tags
        uic: Fixed bug that caused retranslateUI() to add existing
        items in combobox once again

Qt Linguist / Internationalization
        Fix tr() idioms, so that translation actually works.

****************************************************************************
*                          Library                                         *
****************************************************************************

...

General improvements
--------------------

- QVariant
        the QVariant(const char *) constructor is now unavailable when
        QT_NO_CAST_TO_ASCII is set. Otherwise, it uses QString::fromAscii
        to convert the const char * to a unicode QString to prevent
        loss of information.

- QXmlSimpleReader
        A significant (approx. 50x) speedup in QXmlSimpleReader when
        parsing documents which contain internal or external entities.

- QFile
        changed behavior or rename() and copy()...

- QPdfPrintEngine
        Made our generated PDFs readable by Ghostscript.
        Support pens that have patterns/pixmaps.

- QTextDocument
        Support span style background-color.
        Fix nested tables in html documents regression.
        
- QToolbutton
        Make popup menus appear on the correct screen.

- QToolBar
        Combo boxes now appears as submenus in a toolbar extension.
        setIconSize() now works correctly.
        
- QOpenGLPaintEngine
        Make sure the image and pixmap cache is used.
        
- QTextEdit
        Improve handling of the TITLE tag.
        Fixed navigating links via tab.
        Improved handling of illformed html.
        Fixed rendering for tables with thead/tbody/tfoot elements.

- QSvg
        Improve stroking with pen width 0.
        Fix rectangle filling bug.

- QDockWidget
        Update toggleViewAction() when widget gets hidden with close
        button.

- QMainWindow
        Handle RTL layout for dockwidgets properly.
        Make dockwidgets remember their sizes after being hidden.

- Q3TextEdit
        Fix focus indicator tabbing through tables.

- QXpmHandler
        Fixed handling of non-transparent XPM images.

- QImageIOHandler
        Made all suppported image formats support the Size option.

- QDir
        cd() now fails when attempting to cd to a non-directory.

- Q3ToolBar
        Q3Action::setOn() now works correctly.

- QAbstractItemView
        Fix selections when mouse-tracking is turned on.

- QTableView
        Fixed drawing of selections after moving columns.
        Do not wrap to the top if Page Down is pressed.
        Improve scrolling behavior.
        QTableView now takes ownership of QHeaders set using setHorizontalHeader()
                
- QTreeView
        Fixed scrolling-related item expand bug.
        Improve scrolling behavior.
        QTreeView now takes ownership of QHeaders set using setHorizontalHeader()
        
- QItemDelegate
        Better handling of QStyleOptionViewItem::Bottom.
        Increased the delegate horizontal margin.
        
- QHeaderView
        Respects dragDistance.
        Fix painting problems caused by clicking both mouse buttons
        at the same time.
        Respects TextColorRole.
        Fix painting flaws when using sort indicators. 
        
- QGridLayout 
        Respect specified alignment over default alignment.

- QSvgRenderer
        Better handling  of invalid files.

- QPrintEngine
        Better font underlining/overlining.? (199807)
        Embed fonts as TrueType font files into PDF? (199815)

- Q3ActionGroup
        Fix drop down drawing error.

- QWidget
        Fix regression in setMask().

- QFileDialog
        Make sure filter combobox gets enabled when changing from 
        Directory to ExistingFile mode.
        Improve filename completion for files with the same name but 
        different extention.
        Make sure the selection is updated when modifying the filename 
        by removing characters.
        Allow typing in several file names in the file name line edit.
        Improve handling of non-existant windows shares.
        Improve handling of hidden directories.
        Make it possible to create new folder when a folder called 
        "New Folder" already exists.
        
- QHash / QSet
        Make the operator==() not take the internal order of elements
        into account when comparing.

- QUrl
        Improve handling of hostnames that start with a digit.
        Fix crash when calling hasQueryItem() on QUrl without any
        query items.
        
- QLayout
        Warn instead of crash when adding two layouts to a widget.

- QProgressBar
        Fix incorrect progress in some cases.         

- QTabWidget
        Fixed bug that caused missing resize when dynamically adding widgets.

- QMenu
        Fix setting the window title on torn off menus.
        Fix bug where exec() returned the wrong QAction on some cases.
        
- QTextDocument
        Fix crash when importing incorrecty formed html tables.
        
- QPushButton
        Buttons reparented into a dialog parent through the layout are now auto-default.

- QTabBar
        Improve handling of tab removal.

- PDF
        Support PDF font embedding, resulting in smaller PDF files and 
        selectable text.

- QMYSQLDriver 
        Fix crash when formatValue() is called without connection.

- QVariant
        Improve operator==() behavior when comaring different types.

- QMessageBox
        information() now works correctly when calling it after returning
        from QApplication::exec()      
                
        
Platform-Specific changes
-------------------------

Windows:

- Timers now continue to fire when windows enters a modal event loop.
- Improve Type 1 font rendering.

- QClipboard
        Make sure the dataChanged() signal is emitted correctly.

- QUdpSocket
        Better handling when sending to an unbound port.


- QFileDialog
        Improve handling of path names with special characters.
        Maintain modality chain when showing a native modal inside a
        qt modal.
        Speedup when browsing dirs containing broken shortcuts.

- QWorkSpace
        Improve window resizing.
        Improve title bar and button apperance in XP style. 

- QDockWidget
        Improve the look of title bar buttons.
        Improve look when using QWindowsStyle.

- QWdiget
        Fix setWindowOpacity flicker.

- QLineEdit
        Make QLineEdit respect the XP color scheme.         
        
- Printing        
        Fix PCL printer line drawing bug.

X11:
- Improved tablet event handling.
- QPainter
        Fix artifacts when drawing aliased primitives with an alpha
        pen.
        Implemented Porter-Duff composition support.
        

Mac OS X:

- General fixes to the drag and drop support.
- Fixed compilation with -no-qt3support on Mac OS 10.3

- QCursor
        Fix alpha pixmap cursors.

- QHeaderView
        Fix text truncating issue on headers.

- QWorkSpace 
        Improve wokrspace children appearance.
        
- QDockWidget 
        Improve dock widget appearance.

- QToolBar 
        Improve tool bar appearance.

- QPushButton
        Make mac style obey the icon size set by setIconSize().

- QSplashScreen
        Fix painting errors when using showMessage().
        
Qtopia Core

- Implement QPixmap::grabWindow

- PDF
        Support PDF font embedding.
        
3rd-party libraries
-------------------
- Fix memory leak in freetype.

last change was: 203215
